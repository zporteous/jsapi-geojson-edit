{"version":3,"file":"static/js/5349.02404e92.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/effects/EffectView.js","../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/widgets/smartMapping/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import s from\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as o}from\"./parser.js\";import{canInterpolateEffects as f,normalizeEffects as l}from\"./utils.js\";const a=-1;let h=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=s(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(u(t))}catch(e){this._transitionTo([]),i.getLogger(this.declaredClass).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&_(this._current,u(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}end(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&_(this._current,t,this.scale)?(this._final=t,this._to=r(t),p(this._current,this._to,this.scale),this._from=r(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?r(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=m(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?r(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function u(t){const e=o(t)||[];return g(e)?[{scale:a,effects:e}]:e}function _(t,e,s){if(!t[0]?.effects||!e[0]?.effects)return!0;return!((t[0]?.scale===a||e[0]?.scale===a)&&(t.length>1||e.length>1)&&s<=0)&&f(t[0].effects,e[0].effects)}function p(t,e,s){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,n=i[i.length-1],c=n?.scale??s,o=n?.effects??[];for(let f=i.length;f<r.length;f++)i.push({scale:c,effects:[...o]});for(let f=0;f<r.length;f++)i[f].scale=i[f].scale===a?s:i[f].scale,r[f].scale=r[f].scale===a?s:r[f].scale,l(i[f].effects,r[f].effects)}function m(t,e,s){return t+(e-t)*s}function g(t){const e=t[0];return!!e&&\"type\"in e}t([n()],h.prototype,\"_to\",void 0),t([n()],h.prototype,\"duration\",void 0),t([n({value:\"\"})],h.prototype,\"effect\",null),t([n({readOnly:!0})],h.prototype,\"effects\",void 0),t([n({readOnly:!0})],h.prototype,\"hasEffects\",null),t([n({value:0})],h.prototype,\"scale\",null),t([n({readOnly:!0})],h.prototype,\"transitioning\",null),h=t([c(\"esri.layers.effects.EffectView\")],h);export{h as EffectView,_ as canInterpolateEffectStops,u as convertEffectToStops,p as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{sqlAnd as i}from\"../../core/sql.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as l}from\"./commonProperties.js\";import{getLayerFloorFilterClause as n}from\"./floorFilterUtils.js\";import{isExportDynamic as y}from\"./sublayerUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&y(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const s=n(this.floors,r),o=i(s,r.definitionExpression);return t(o)&&(e[r.id]=o),e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([o({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([o()],c.prototype,\"floors\",void 0),e([o({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([o()],c.prototype,\"layer\",null),e([o({readOnly:!0})],c.prototype,\"layers\",null),e([o({readOnly:!0})],c.prototype,\"layerDefs\",null),e([o({type:Number})],c.prototype,\"scale\",void 0),e([o(l)],c.prototype,\"timeExtent\",void 0),e([o({readOnly:!0})],c.prototype,\"version\",null),e([o({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([a(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../core/maybe.js\";import{OriginId as e}from\"../../core/accessorSupport/PropertyOrigin.js\";function n(r,e,n){const i=e.flatten((({sublayers:r})=>r)).length;if(i!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!o(r,e)}function i(n,i,t){return!!n.some((n=>{const i=n.source;return!(!i||\"map-layer\"===i.type&&i.mapLayerId===n.id&&(r(i.gdbVersion)||i.gdbVersion===t))||n.originIdOf(\"renderer\")>e.SERVICE||n.originIdOf(\"labelingInfo\")>e.SERVICE||n.originIdOf(\"opacity\")>e.SERVICE||n.originIdOf(\"labelsVisible\")>e.SERVICE}))||!o(n,i)}function o(e,n){if(!e||!e.length||r(n))return!0;const i=n.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(e.length>i.length)return!1;let o=0;const t=i.length;for(const{id:r}of e){for(;o<t&&i[o]!==r;)o++;if(o>=t)return!1}return!0}function t(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}export{i as isExportDynamic,t as isSublayerOverhaul,n as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e}from\"../../core/maybe.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function t(n){if(e(n))return null;if(!o(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":case\"heatmap\":return null}return null}function s(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function u(r){return s(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),s(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),s(r,e)}export{o as isSupportedRenderer3D,t as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return l?.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as e,getFill as o}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.includes(\"3d\"))return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const o=e(t);return o&&o.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const o=e(t);return o&&o.color}return o(t)}function H(t,e){const o=e.HH.label,r=e.LL.label,s=e.HL.label,l=e.LH.label;switch(t){case\"HH\":default:return{top:o,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:o};case\"LL\":return{top:r,bottom:o,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:o,right:r}}}function L(e,o){const r=[],s=e.length**.5,l=t(e),n=(o||\"HH\").split(\"\"),H=n[0],L=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function i(t){const{focus:e,infos:o,numClasses:r}=t,s=l[r],L={};o.forEach((t=>{L[t.value]={label:t.label,fill:n(t.symbol)}}));const i=[];for(let l=0;l<r;l++){const t=[];for(let e=0;e<r;e++){const o=L[s[l][e]];t.push(o.fill)}i.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:e,colors:i,labels:H(e,L),rotation:u(e)}}function u(t){let e=s[t];return t&&null==e&&(e=s.HH),e||0}export{L as getRelationshipRampColors2D,i as getRelationshipRampElement,u as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as o,percentChange as s}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as n}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as i,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{createStopLabel as a,getSymbolForFlowRenderer as u}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as c}from\"../../../support/themeUtils.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import f from\"../../../symbols/SimpleLineSymbol.js\";const p=30,y=12,b=[255,255,255],h=[200,200,200],d=[128,128,128],w=20,g=5;function S(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function z(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function j(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function V(e,l){const t=e.length-1;return e.map(((e,o)=>a(e,o,t,l)))}async function k(e,l,o,s,n,a){const u=l.legendOptions,c=u&&u.customValues,m=await U(e,o),f=!!m,p=!!c,y=null!=l.minSize&&null!=l.maxSize,b=l.stops&&l.stops.length>1,h=!!l.target;if(!f||!p&&!(y||b&&!h))return;const d=i(m);let w=null,g=null,S=null;g=d&&!b?t([l.minDataValue,l.maxDataValue]):c||await D(l,m,s,n);const v=e?.authoringInfo,z=\"univariate-color-size\"===v?.type,j=z&&\"above-and-below\"===v?.univariateTheme;if(!g&&b&&(g=l.stops.map((e=>e.value)),w=l.stops.some((e=>!!e.label)),\"flow\"===e.type&&(g=t(g)),w&&(S=l.stops.map((e=>e.label)))),d&&g?.length>2&&!j&&(g=[g[0],g[g.length-1]]),!g)return null;z&&5!==g?.length&&(g=E({minSize:g[0],maxSize:g[g.length-1]}));const k=d?x(e,g):null,C=r(m),I=w?null:V(g,a);return(await Promise.all(g.map((async(t,o)=>{const i=d?k[o]:await B(l,m,t,s,n);return{value:t,symbol:P(j&&\"class-breaks\"===e.type?L(e,o):m,i),label:w?S[o]:I[o],size:i,outlineSize:C}})))).reverse()}function x(e,l){const t=e?.authoringInfo,o=\"univariate-color-size\"===t?.type;let s=[y,p];if(o){const e=l[0],t=l[l.length-1],o=y,n=p;s=l.map((l=>o+(l-e)/(t-e)*(n-o)))}return o&&\"below\"===t?.univariateTheme&&s.reverse(),s}function L(e,l){const t=e.classBreakInfos,o=t.length,s=o<2||!(l>=2)?t[0].symbol.clone():t[o-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(s.type.includes(\"3d\")?I(s):M(s)),s}async function U(e,l){if(\"flow\"===e.type)return u(e,l);if(\"pie-chart\"===e.type)return new m({color:null,outline:e.outline?.width?e.outline:new f});let t=null,o=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,o=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,o=l.length>1}return!t||C(t)?null:(t=t.clone(),(l||o)&&(t.type.includes(\"3d\")?I(t):M(t)),t)}function C(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return e.type.includes(\"fill\")}return!1}function I(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:d}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:h}:(e.material={color:b},e.outline={color:d,size:1.5})}))}function M(l){const t=c();if(\"cim\"===l.type)n(l,new e(h));else if(l.type.includes(\"line\"))l.color=d;else if(l.color=t?d:b,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=d)}else l.outline={color:d,width:1.5}}async function D(e,l,o,s){const n=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,o,s),i=n&&E(n);if(!n&&!i)return;let r=i.map((l=>T(l,e,n)));r=t(r);for(let t=1;t<r.length-1;t++){const n=await q(e,l,r[t],r[t-1],o,s);n&&(r[t]=n[0],i[t]=n[1])}return r}function E(e){const l=e.minSize,t=e.maxSize,o=g,s=(t-l)/(o-1),n=[];for(let i=0;i<o;i++)n.push(l+s*i);return n}function T(e,l,t){const o=t.minSize,s=t.maxSize,n=l.minDataValue,i=l.maxDataValue;let r=null;if(e<=o)r=n;else if(e>=s)r=i;else{r=(e-o)/(s-o)*(i-n)+n}return r}async function q(e,l,n,i,r,a){const u=await B(e,l,n,r,a),c=await B(e,l,i,r,a),m=o(n),f=m.fractional,p=w;let y=m.integer,b=null,h=null;n>0&&n<1&&(b=10**f,y=o(n*=b).integer);for(let o=y-1;o>=0;o--){const i=10**o;let m=Math.floor(n/i)*i,f=Math.ceil(n/i)*i;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const d=await B(e,l,m,r,a),w=await B(e,l,f,r,a),g=await B(e,l,y,r,a),S=s(u,d,c,null),v=s(u,w,c,null),z=s(u,g,c,null);let j=S.previous<=p,V=v.previous<=p;if(j&&V&&(S.previous<=v.previous?(j=!0,V=!1):(V=!0,j=!1)),j?h=[m,d]:V?h=[f,w]:z.previous<=p&&(h=[y,g]),h)break}return h}async function B(e,l,t,o,s){const{getSize:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(e,t,{scale:o,view:s,shape:\"simple-marker\"===l.type?l.style:null})}function P(e,t){const o=e.clone();if(l(o))i(o)||o.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(S(o))o.size=t;else if(v(o)){const e=o.width,l=o.height;o.height=t,o.width=t*(e/l)}else z(o)?o.width=t:j(o)&&o.font&&(o.font.size=t);return o}export{p as REAL_WORLD_MAX_SIZE,y as REAL_WORLD_MIN_SIZE,k as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{isNone as n}from\"../../../core/maybe.js\";import{formatDate as i}from\"../../../intl/date.js\";import{formatNumber as o}from\"../../../intl/number.js\";import{timelineDateFormatOptions as e}from\"../../../renderers/support/utils.js\";import r from\"../../../renderers/visualVariables/SizeVariable.js\";function a(t){return i(new Date(t),e)}function s(t){const n=2,i=Math.floor(Math.log10(Math.abs(t)))+1,e=i<4||i>6?4:i,r=1e6,a=Math.abs(t)>=r?\"compact\":\"standard\";return o(t,{notation:a,minimumSignificantDigits:n,maximumSignificantDigits:e})}function u(t,i,o){if(n(i)||n(t))return[];const e=[];for(let n=-1*o;n<=o;n++)0!==n&&e.push(i+n*t);return e}function m(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:a}=t,s=n-i;let u,m=`M0 0 L${r} 0 `;const h=3===a.length?[a[0],a[1],a[2]]:[a[0],a[2],a[4]],f=Math.min.apply(Math,h.map((t=>t.size))),p=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach((({size:t,value:n},a)=>{const h=Math.round((t-f)/p*100)/100,c=Math.round(e-(n-i)/s*e);u=h*r,0===u&&(u=o*r),0===a&&(m+=`L${u} 0 `),m+=`L${u} ${c} `})),m+=`L${u} ${e} L0 ${e} L0 0 Z`,m}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:a,topValue:s,topWidth:u}=t,m=u*a,h=i*a,f=o-e,p=Math.round(r-(n-e)/f*r);return`M${m} 0 L${m} ${Math.round(r-(s-e)/f*r)} L${h} ${p} L${h} ${r} L0 ${r} L0 0 Z`}function f(t){let n=t.maxSize,i=t.minSize;return n instanceof r&&(n=n.stops[0].size),i instanceof r&&(i=i.stops[0].size),[n,i]}function p(t,n,i){const o=i.length-1,e=i[0],r=i[o]-e,a=n-t,s=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*a+t;s.push({index:u,value:n})}return s.unshift({index:0,value:t}),s.push({index:o,value:n}),s}function c(n){return n instanceof t?n.toCss(!0):t.fromString(n).toCss(!0)}export{a as formatDateLabel,s as formatNumberLabel,u as getDeviationValues,m as getDynamicPathForSizeStops,c as getFillFromColor,h as getPathForSizeStops,f as getSizesFromVariable,p as getStopChanges};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as s}from\"../../../kernel.js\";import l from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import i from\"../../../core/Collection.js\";import n from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as c}from\"../../../core/maybe.js\";import{eachAlways as d,debounce as y}from\"../../../core/promiseUtils.js\";import{on as h,watch as m,whenOnce as f,initial as p}from\"../../../core/reactiveUtils.js\";import{px2pt as g}from\"../../../core/screenUtils.js\";import{addQueryParameters as b}from\"../../../core/urlUtils.js\";import{property as S}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{OriginId as v}from\"../../../core/accessorSupport/PropertyOrigin.js\";import{EffectView as w}from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as L}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as E}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as C}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as R}from\"../../../renderers/support/rendererConversion.js\";import V from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as F}from\"../../../symbols/support/cimSymbolUtils.js\";import{SymbolSizeDefaults as T}from\"../../../symbols/support/previewUtils.js\";import{renderSymbol as z}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as x,renderDotDensityPreviewHTML as j,renderPieChartPreviewHTML as D,renderPreviewHTML as O}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as P}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as M}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as A,getRampStopsForPointCloud as B,getStrectchRampStops as U,getRampStops as k}from\"./colorRampUtils.js\";import{getHeatmapRampStops as N}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as q,getRelationshipRampElement as W}from\"./relationshipRampUtils.js\";import{getRampStops as $,REAL_WORLD_MAX_SIZE as G,REAL_WORLD_MIN_SIZE as J}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as Q,SPECIAL_CHARS_GREATER_THAN as H,getSymbolForFlowRenderer as X,getMedianColor as K,RGB_IMG_SOURCE as Y}from\"./utils.js\";import{formatNumberLabel as Z}from\"../../smartMapping/support/utils.js\";import ee from\"../../../symbols/SimpleMarkerSymbol.js\";import te from\"../../../symbols/SimpleFillSymbol.js\";const se=o.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),le=\"https://utility.arcgis.com/sharing/tools/legend\",re=\"esri.layers.ImageryLayer\",ie=\"esri.layers.ImageryTileLayer\",ne=\"esri.layers.WCSLayer\",ae=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,oe=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),ue={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ce=new ee({size:6,outline:{color:[128,128,128,.5],width:.5}}),de=new te({style:\"solid\"});function ye(e){return\"flow\"===e.type}function he(e){return\"vector-field\"===e.type}function me(e){return\"raster-colormap\"===e.type}function fe(e){return\"raster-stretch\"===e.type}function pe(e){return\"raster-shaded-relief\"===e.type}function ge(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function be(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function Se(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function _e(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function ve(e){return Le(e)||Ee(e)||Ce(e)||we(e)}function we(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function Le(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function Ee(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Ce(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function Ie(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function Re(e){return\"esri.renderers.PieChartRenderer\"===e.declaredClass}function Ve(e,t){return ge(e)||be(e)||Se(e)||_e(e)||Ie(e)||Re(e)?\"2d\"===t.type||R(e):fe(e)||me(e)||pe(e)||Le(e)||Ee(e)||Ce(e)||he(e)||ye(e)}function Fe(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Te(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function ze(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function xe(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function je(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function De(e){return\"esri.layers.TileLayer\"===e.declaredClass}function Oe(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function Pe(e){return e.declaredClass===re}function Me(e){return e.declaredClass===ie}function Ae(e){return e.declaredClass===ne}function Be(e){return\"stretch-ramp\"===e.type}function Ue(e){return\"univariate-color-size\"===(\"authoringInfo\"in e&&e?.authoringInfo)?.type}function ke(e){const t=\"authoringInfo\"in e&&e?.authoringInfo;return\"univariate-color-size\"===t?.type&&\"above-and-below\"===t?.univariateTheme}const Ne=new ee({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let qe={},We=class extends r{constructor(e){super(e),this._handles=new n,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new i,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([h((()=>this.children),\"change\",(t=>{const{added:s,removed:l}=t,r=this._handles;s.forEach((t=>{const s=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(m((()=>t.ready),e,p),s)})),l.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(qe={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(qe=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new w,t.effect=e.effect,t.end(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,s=this.layer.parent,l=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=t?t*e:null!=l?l*e:e}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction){if(\"cluster\"===e.featureReduction.type)return!0;if(\"binning\"===e.featureReduction.type&&\"renderer\"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return\"renderer\"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(Oe(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,s=t&&t.drawingInfo,l=s&&I(s.renderer),r=oe.read(t.geometryType);return l?this._getRendererLegendElements(l,{title:e.name,geometryType:r}):(se.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await d(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(s){se.warn(\"error while building legend for layer!\",s)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){se.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Te(e))this._constructLegendElementsForVoxellayer();else if(xe(e))this._constructLegendElementsForWMTSlayer();else if(ze(e))await this._constructLegendElementsForWMSSublayers();else if(Fe(e))await this._constructLegendElementsForBuildingSceneLayer();else if(je(e)||De(e)||Fe(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let t=\"default\";if(Pe(e)){t=(e?.renderingRule?.functionName||\"default\")+\"_\"+(e.bandIds?.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${t}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const s=t.map((async t=>{if(Pe(e)||Me(e)){const t=m((()=>[\"renderingRule\"in e&&e.renderingRule,e.bandIds]),(()=>y((async()=>{qe.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const s=this._generateSymbolTableElementForLegendLayer(t);s&&s.infos.length&&(Pe(e)&&(s.title=e.title),this.legendElements.push(s)),this.notifyChange(\"ready\")}));await d(s)})).catch((e=>{se.warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,s=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!s&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await f((()=>!t.updating));const l=s?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();l.geometry=this.view.extent;return 0!==(s?\"queryFeatureCount\"in t&&await t.queryFeatureCount(l):\"queryFeatureCount\"in e&&await e.queryFeatureCount(l))}_getParentLayerOpacity(e){let t=1;const s=e.parent;return s&&\"uid\"in s&&(t=this._getParentLayerOpacity(s)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isRendererScaleDriven(e){if(\"dot-density\"===e.type)return!0;const t=\"valueExpression\"in e&&e.valueExpression;if(ae.test(t))return!0;const s=\"visualVariables\"in e&&e.visualVariables;return!!s&&s.some((e=>this._isScaleDrivenSizeVariable(e)))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,s=t.minSize,l=t.maxSize;return\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):!!t.expression||ae.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&je(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const s of t.sourceJSON.layers)if(s.id===e.source.mapLayerId&&(s.minScale>0||s.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this._handles.remove(\"voxel-style-watcher\");const e=this.layer;this._handles.add(m((()=>e.currentVariableId),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=u(e.getVariableStyle(null)),s=[];if(t)if(t.uniqueValues?.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new te({color:t.color,outline:null})})})),e.length&&s.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:l}=t.transferFunction,r=e.toArray().reverse(),i=l.map(((e,t)=>`${0===t?Q:H} ${Z(e)}`)).reverse(),n=r.map((e=>({color:e.color,value:null,label:null})));n[0].label=i[0],n[n.length-1].label=i[1],s.push({type:\"color-ramp\",title:t.label,infos:n,preview:x(r.map((e=>e.color)))})}const l=e.opacity,r=s.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,l)));await d(r),this.legendElements=s,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(m((()=>{const{layer:e}=this;return e&&\"activeLayer\"in e&&e.activeLayer}),(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((s=>e.styleId===s.id&&(t=s.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(m((()=>{const{layer:e}=this;return e&&\"sublayers\"in e&&e.sublayers}),(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const s=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const l=e.toArray();for(const r of l){const e=m((()=>[r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&s.unshift(e)}}return s}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const s=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let s=e.legendUrl;if(!s)return;const r={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(s=b(s,t));let i=null;const n=e.layer?.opacity;try{i=(await l(s,{responseType:\"image\"})).data,i&&(i.style.opacity=n)}catch{}return r.infos.push({src:s,preview:i,opacity:n}),r}_getLegendLayers(e,t){const s=qe&&qe[e];return s?Promise.resolve(s):this._legendRequest(t).then((t=>{const s=t.layers;return qe[e]=s,s}))}_legendRequest(e){const t=this.layer;let s={f:\"json\",dynamicLayers:e};if(Pe(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(s.renderingRule=JSON.stringify(e.rasterFunctionDefinition||e.toJSON())),t.bandIds&&(s.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:l,customParameters:r}=t;s={raster:e,viewId:l,...s,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=le+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return l(r,{query:s}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(m((()=>e.sublayers),(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){se.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let s=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const l=e.toArray();for(const r of l){const e=m((()=>[\"renderer\"in r&&r.renderer,r.opacity,r.title,r.visible]),(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,l=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,l);e.infos.push(...t),s=[e,...s]}else if(r.renderer){s=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:l,sublayer:r}),...s]}}}return s.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(m((()=>e.sublayers),(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){se.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,s){const l=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let i=e.toArray();!s&&this.sublayerIds&&this.sublayerIds.length&&(i=this.sublayerIds.map((e=>l.findSublayerById(e))).filter(Boolean));for(const n of i){const e=m((()=>[n.renderer,n.opacity,n.title,n.visible,n.legendEnabled]),(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||n.visible&&n.legendEnabled&&this._isSublayerInScale(n)){const e=n&&null!=n.opacity?n.opacity:null,l=null!=e?e*t:t;if(n.renderer&&!n.sublayers&&n.originIdOf(\"renderer\")>v.SERVICE){await n.load();r=[...await this._getRendererLegendElements(n.renderer,{title:n.title,opacity:l,sublayer:n}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(n,l,s);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,s){if(!s){s=new Map;const t=this.layer,l=e.source;let r=null;if(!(!l||\"map-layer\"===l.type&&l.mapLayerId===e.id&&(!l.gdbVersion||l.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>v.SERVICE||e.originIdOf(\"labelingInfo\")>v.SERVICE||e.originIdOf(\"labelsVisible\")>v.SERVICE){const e=new E({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const i=r||`${t.uid}-default`;(await this._getLegendLayers(i,r)).forEach((e=>s.set(e.layerId,e)))}const l=s.get(e.id);if((!l||l?.subLayerIds&&l.defaultVisibility)&&e.sublayers){const l=await this._generateLegendElementsForSublayers(e.sublayers,t,s);return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendLayer(l,e,t)}_generateSymbolTableElementForLegendLayer(e,t,s){if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const l=t?.renderer;let r=t?.title||e.layerName;if(l&&(!t||t?.originIdOf(\"renderer\")>v.SERVICE)){const e=t?.title||this._getRendererTitle(l,t);e&&(r&&\"string\"!=typeof e&&\"title\"in e&&(e.title=r),r=e)}const i={type:\"symbol-table\",title:r,legendType:e.legendType?e.legendType:null,infos:[]},n=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups?.length>0?e.legendGroups.forEach((t=>{const l={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(n.filter((e=>e.groupId===t.id)),e.layerId,s)};l.infos?.length>0&&i.infos.push(l)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(n,e.layerId,s),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=s(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:null==l?this.opacity:l,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,s=e.maxScale||0;return!(t>0&&t<this.scale||s>this.scale)}_isLegendLayerInScale(e,t){const s=t||this.layer;let l=null,r=null,i=!0;return!s.minScale&&0!==s.minScale||!s.maxScale&&0!==s.maxScale?(0===e.minScale&&s.tileInfo&&(l=s.tileInfo.lods[0].scale),0===e.maxScale&&s.tileInfo&&(r=s.tileInfo.lods[s.tileInfo.lods.length-1].scale)):(l=Math.min(s.minScale,e.minScale)||s.minScale||e.minScale,r=Math.max(s.maxScale,e.maxScale)),(l>0&&l<this.scale||r>this.scale)&&(i=!1),i}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const s=t.renderer,l=e.some((e=>e.values));let r=null,i=null;return l&&e.some(((e,t)=>(e.values||(r=t,i=e,i.label||(i.label=\"others\")),null!=i))),s?\"unique-value\"===s.type?i&&(e.splice(r,1),e.push(i)):\"class-breaks\"===s.type&&(i&&e.splice(r,1),e.reverse(),i&&e.push(i)):i&&(e.splice(r,1),e.push(i)),e}async _getRendererLegendElements(e,t={}){return Ve(e,this.view)?ve(e)?this._constructPointCloudRendererLegendElements(e,t):Ie(e)?this._constructDotDensityRendererLegendElements(e):Re(e)?this._constructPieChartRendererLegendElements(e):this._constructRendererLegendElements(e,t):(se.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const s=t.title,l=[];let r=null,i=null;if(Le(e))r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ce,e.color)})}));else if(Ee(e)){const t=e.stops;let l=null;if(t.length&&(1===t.length&&(l=t[0].color),!l)){const e=t[0].value,s=t[t.length-1].value;if(null!=e&&null!=s){l=A(e+(s-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ce,l||ce.color)}]};const n=B(e.stops);i={type:\"color-ramp\",title:s||this._getPointCloudRendererTitle(e),infos:n,preview:x(n.map((e=>e.color)))}}else Ce(e)&&(r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(ce,e.color)})})));r&&r.infos.length&&l.push(r),i&&i.infos.length&&l.push(i);const n=l.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return d(n).then((()=>l))}_getElementInfoForDotDensity(e,t){const{backgroundColor:s,outline:l,dotSize:r}=e,i=this.effectList?.effects.map((e=>e.toJSON())),n=L(i),a=r+\"-\"+t+\"-\"+s+\"-\"+(l&&JSON.stringify(l.toJSON()))+\"-\"+n,o=this._dotDensityUrlCache,u=o.has(a)?o.get(a):j(e,t);o.set(a,u);const c={shape:{type:\"image\",x:0,y:0,width:u.width,height:u.height,src:u.src},fill:null,stroke:null,offset:[0,0]},d=z([[c]],[u.width,u.height],{effectView:this.effectList});return{opacity:1,src:u.src,preview:d,width:u.width,height:u.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),s=e.legendOptions&&e.legendOptions.unit,l={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:s||\"\"},infos:[]};return e.attributes.forEach((t=>{const s=this._getElementInfoForDotDensity(e,t.color);s.label=t.label||t.valueExpressionTitle||t.field,l.infos.push(s)})),Promise.resolve([l])}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,s=[],l=\"Others\",r=e.outline;e.attributes.forEach((e=>{const t=new ee({color:e.color,outline:r}),l=e.label||e.valueExpressionTitle||e.field;s.push({label:l,symbol:t})}));const i=s.length?[...s]:[];if(e.othersCategory?.color&&0!==e.othersCategory?.threshold){const t=new ee({color:e.othersCategory.color,outline:r});s.push({label:e.othersCategory.label||l,symbol:t})}if(e.defaultColor?.a){const t=new ee({color:e.defaultColor,outline:r});s.push({label:e.defaultLabel,symbol:t})}const n=await this._getVisualVariableLegendElements(e,this.layer)||[];if(s.length){n.unshift({type:\"symbol-table\",title:null,infos:s});const t=i.filter((e=>e.label!==l)).map((e=>e.symbol.color)).filter(Boolean),a=D(t,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:r});n.unshift({type:\"pie-chart-ramp\",title:this._getRendererTitle(e,this.layer),infos:s,preview:a})}const a=n.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol&&!e?.preview)).map((e=>this._getSymbolPreview(e,t,{effectList:this.effectList})));return await d(a),n}async _constructRendererLegendElements(e,t={}){const{title:s,sublayer:l}=t,r=l||this.layer;let i=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const n=await this._getVisualVariableLegendElements(i,r)||[],a={type:\"symbol-table\",title:s||this._getRendererTitle(i,r),infos:[]};let o=null,c=!1;const y=new Set;if(ye(i)&&!this._hasSizeRamp){const e=await X(i);a.infos.push({label:null,symbol:e})}else if(Ue(i)){let e=s;const t=ke(i)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",l=n.findIndex((e=>\"color-ramp\"===e.type)),r=-1!==l?n.splice(l,1)[0]:null,a=n.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?n.splice(a,1)[0]:null,u=[];r&&(e=r.title,u.push(r)),o&&(e=o.title,u.push(o)),u.length>0&&n.push({type:t,title:e,infos:u})}else if(_e(i)){const e=N(i);n.push({type:\"heatmap-ramp\",title:s||i.legendOptions?.title,infos:e,preview:x(e.map((e=>e.color)),{effectList:this.effectList})})}else if(Se(i)){const e=i&&i.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:s,field1:l,field2:o}=e;if(s&&l&&o){const e=[l,o];let u=q(t)||0;for(const t of e){const{field:e,normalizationField:s,label:l}=t,i=l||{field:this._getFieldAlias(e,r),normField:s&&this._getFieldAlias(s,r)},n=Ne.clone();n.angle=u,a.infos.push({label:i,symbol:n}),y.add(n),u+=90}const c=W({focus:t,numClasses:s,infos:i.uniqueValueInfos});n.unshift(c)}}else{const e=i.field;i.uniqueValueInfos.forEach((t=>{t.symbol&&a.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}i.defaultSymbol&&(a.infos.push({label:i.defaultLabel||\"others\",symbol:i.defaultSymbol}),c=!0)}else if(be(i)){o=this._isUnclassedRenderer(i);(!o||!this._hasSizeRamp)&&(i.classBreakInfos.forEach((e=>{e.symbol&&a.infos.unshift({label:e.label||(o?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),o&&(a.title=null),this._updateInfosforClassedSizeRenderer(i,a.infos)),i.defaultSymbol&&!o&&(a.infos.push({label:i.defaultLabel||\"others\",symbol:i.defaultSymbol}),c=!0)}else if(fe(i))if(Me(this.layer)||Ae(this.layer)){const e=this._constructTileImageryStretchRendererElements(i);Be(e)?n.push(e):a.infos=e}else{const e=this.layer;let t,s;i.statistics&&i.statistics.length&&(t=null!=i.statistics[0].min?i.statistics[0].min:i.statistics[0][0],s=null!=i.statistics[0].max?i.statistics[0].max:i.statistics[0][1]);let l=[];const r=u(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties,c=ue[e.rasterInfo.pixelType.toLowerCase()];1===r.bandCount||e.bandIds&&1===e.bandIds.length?(t=null!=t?t:r.statistics?r.statistics[e.bandIds[0]].min:c[0],s=null!=s?s:r.statistics?r.statistics[e.bandIds[0]].max:c[1],t||s?n.push(this._getStretchLegendElements(i,{min:t,max:s})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(l=e.bandIds.map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(l)):\"lerc\"===e.format?(l=[0,1,2].map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(l)):this._getServerSideLegend():\"lerc\"===e.format?(l=[\"band1\",\"band2\",\"band3\"],a.infos=this._createSymbolTableElementMultiBand(l)):this._getServerSideLegend():this._getServerSideLegend()}else if(me(i))i.colormapInfos.forEach((e=>{a.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(de,e.color)})}));else if(ge(i)){let e=i.symbol;switch(t.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}i.symbol&&!this._hasSizeRamp&&a.infos.push({label:i.label,symbol:e})}else if(he(i)){i.outputUnit&&(this.title=\"(\"+i.toJSON().outputUnit+\")\"),a.title=i.attributeField;const e=i.getClassBreakInfos();e?.length?e.forEach((e=>{a.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):a.infos.push({label:i.attributeField,symbol:i.getDefaultSymbol()})}else pe(i)&&n.push(this._getStretchLegendElements(i,{min:0,max:255}));const h=i.defaultSymbol;!h||c||ge(i)||o&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||n.push({type:\"symbol-table\",infos:[{label:i.defaultLabel||\"others\",symbol:h}]}),a.infos.length&&n.unshift(a);const m=null==t.opacity?this.opacity:t.opacity,f=this._isTallSymbol(\"visualVariables\"in i&&i.visualVariables),p=Pe(this.layer)||Me(this.layer),g=n.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,m,{isDefault:e.symbol===h,applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:f,isSquareFill:p},effectList:y.has(e.symbol)?null:this.effectList})));return i=null,await d(g),n}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){const t=this.layer,s=t.rasterInfo,l=s.bandCount||e.statistics.length;let r,i,n=[];const a=s.keyProperties&&s.keyProperties.BandProperties,o=e?.statistics?.length?e.statistics:s?.statistics;if(o)r=void 0!==o[0].min?o[0].min:o[0][0],i=o[0].max||o[0][1];else{const e=ue[t.rasterInfo.pixelType.toLowerCase()];r=e[0],i=e[1]}if(t.hasStandardTime()&&(r=t.getStandardTimeValue(r),i=t.getStandardTimeValue(i)),1===s.bandCount||1===t.bandIds?.length)return this._getStretchLegendElements(e,{min:r,max:i});function u(e){const l=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return n=a&&a.length>=l?u(a):u(),this._createSymbolTableElementMultiBand(n)}_getStretchLegendElements(e,t){const s=e.colorRamp,l=U(s,t);return{type:\"stretch-ramp\",title:\"\",infos:l,preview:x(l.map((e=>e.color)))}}async _getSizeLegendElement(e,t,s,l){return{type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await $(s,t,await K(s),this.scale,this.view.type,l)}}_createSymbolTableElementMultiBand(e){const t=[],s=[\"red\",\"green\",\"blue\"];return e.forEach(((e,l)=>{t.push({label:{colorName:s[l],bandName:e},src:Y[l],opacity:this.opacity??1})})),t}_updateInfosforClassedSizeRenderer(e,t){const s=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,l=e.classBreakInfos.some((e=>P(e.symbol)));if(s&&l){const s=G,l=J,r=e.classBreakInfos.length,i=(s-l)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=s-i*t}))}}_isTallSymbol(e){let t=!1,s=!1;if(e)for(let l=0;l<e.length&&(!t||!s);l++){const r=e[l];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(s=!0))}return t&&s}async _getSymbolPreview(e,t,s){let l=!s?.isDefault&&null==e.size&&this._hasSizeRamp?g(T.size):e.size;if(this._scaleDrivenSizeVariable&&s?.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");l=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return O(e.symbol,{size:l,opacity:t,scale:!1,symbolConfig:s?.symbolConfig,effectView:s?.effectList}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){const t=[],s=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const l=\"visualVariables\"in e&&e.visualVariables?.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!ae.test(e.valueExpression)));if(e&&\"visualVariables\"in e&&!l&&\"featureReduction\"in s&&\"cluster\"===s.featureReduction?.type){const t=this.layerView._effectiveRenderer,l=u(M(t,this.view));if(l){const t=s.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:s}=t;l.legendOptions=new V({showLegend:e!==s})}const r=e.visualVariables||[];e.visualVariables=r.concat([l]),this._hasClusterSizeVariable=!0}}const r=await K(e);if(be(e)||Se(e)){const s=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,r).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(t,s)}return t.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:r).then((t=>{this._applySymbolToRenderer(e,t,ge(e))})).catch((()=>{this._applySymbolToRenderer(e,null,ge(e))}))),d(t).then((()=>e))}_applySymbolToRenderer(e,t,s){s?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(\"web-style\"===e.type){const s=this._webStyleSymbolCache;try{const l=await(\"2d\"===this.view.type?e.fetchCIMSymbol({cache:s}):e.fetchSymbol({cache:s}));return this._getAppliedCloneSymbol(l,t)}catch{throw se.warn(\"Fetching web-style failed!\"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,s){if(!e||!s)return e;const l=e.clone(),r=s&&s.toRgba();return l.type.includes(\"3d\")?this._applyColorTo3dSymbol(l,r):\"cim\"===l.type?F(l,s):l.color&&(l.color=new t(r||l.color)),l}_applyColorTo3dSymbol(e,s){s&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(s))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const s=e.visualVariables,l=[],r=[],i=[];for(const c of s)\"color\"===c.type?l.push(c):\"size\"===c.type?r.push(c):\"opacity\"===c.type&&i.push(c);const n=[...l,...r,...i];let a,o;if(0===l.length&&be(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===l.length&&ge(e)&&(a=e.symbol),a)if(a.type.includes(\"3d\")){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?c(e.color)&&(o=e.color):c(e.material)&&c(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);const u=this.effectList;return(await Promise.all(n.map((async s=>{if(!s.legendOptions||!1!==s.legendOptions.showLegend){const l=ye(e)?s.field:this._getRampTitle(s,t);let r=null;const i=\"getField\"in t&&t.getField&&t.getField(s.field),n=i&&C(i);if(\"color\"===s.type){const e=await k(s,null,n);r={type:\"color-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===s.type&&\"outline\"!==s.target)ae.test(s.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=s):(r=await this._getSizeLegendElement(l,s,e,n),this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===s.type){const e=await k(s,o,n);r={type:\"opacity-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,s){if(e&&\"function\"!=typeof e){const l=\"getField\"in s&&s.getField&&s.getField(e),r=l&&\"getFieldDomain\"in s&&s.getFieldDomain?s.getFieldDomain(l.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,s=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,l=\"popupTemplate\"in e&&e.popupTemplate,r=l&&l.fieldInfos;if(r)for(const t of r)if(t.fieldName===s)return\"cluster_count\"===s?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let s=e.field,l=e.normalizationField,r=!1,i=!1,n=!1,a=null;s=\"function\"==typeof s?null:s,l=\"function\"==typeof l?null:l;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const s=e[t];if(\"color\"===s.type){if(\"ratio\"===s.style){r=!0;break}if(\"percent\"===s.style){i=!0;break}if(\"percent-of-total\"===s.style){n=!0;break}}}}a={field:s&&this._getFieldAlias(s,t),normField:l&&this._getFieldAlias(l,t),ratio:r,ratioPercent:i,ratioPercentTotal:n}}return a}_getRendererTitle(e,t){const s=e;if(s.legendOptions&&s.legendOptions.title)return s.legendOptions.title;if(s.valueExpressionTitle)return s.valueExpressionTitle;let l=s.field,r=null,i=null;be(s)&&(r=s.normalizationField,i=\"percent-of-total\"===s.normalizationType),l=\"function\"==typeof l?null:l,r=\"function\"==typeof r?null:r;let n=null;return(l||r)&&(n={field:l&&this._getFieldAlias(l,t),normField:r&&this._getFieldAlias(r,t),normByPct:i}),n}_getFieldAlias(e,t){const s=\"popupTemplate\"in t&&t.popupTemplate,l=s&&s.fieldInfos;let r=null;l&&l.some((t=>e===t.fieldName&&(r=t,!0)));let i=null;\"getField\"in t&&t.getField?i=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(i=t.fieldsIndex.get(e));const n=r||i;let a=null;return n&&(a=r&&r.label||i&&i.alias||\"name\"in n&&n.name||\"fieldName\"in n&&n.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let s=!1;return be(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(s=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),s}};e([S()],We.prototype,\"children\",void 0),e([S({readOnly:!0})],We.prototype,\"effectList\",null),e([S()],We.prototype,\"layerView\",void 0),e([S()],We.prototype,\"layer\",void 0),e([S()],We.prototype,\"legendElements\",void 0),e([S({readOnly:!0})],We.prototype,\"opacity\",null),e([S()],We.prototype,\"parent\",void 0),e([S({readOnly:!0,dependsOn:[]})],We.prototype,\"ready\",null),e([S()],We.prototype,\"hideLayersNotInCurrentView\",void 0),e([S()],We.prototype,\"keepCacheOnDestroy\",void 0),e([S()],We.prototype,\"respectLayerVisibility\",void 0),e([S({readOnly:!0})],We.prototype,\"scale\",null),e([S()],We.prototype,\"sublayerIds\",void 0),e([S({readOnly:!0})],We.prototype,\"isScaleDriven\",null),e([S()],We.prototype,\"title\",void 0),e([S({readOnly:!0,dependsOn:[\"ready\"],value:0})],We.prototype,\"version\",null),e([S()],We.prototype,\"view\",void 0),We=e([_(\"esri.widgets.Legend.support.ActiveLayerInfo\")],We);const $e=We;export{$e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{watch as s,initial as a,when as n}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",u=\"view.basemapView.referenceLayerViews\",p=[_,f,\"view.layerViews\",u];let v=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s((()=>this.view),(()=>this._viewHandles()),a),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s((()=>this.state),(()=>this._stateHandles()),a),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",(e=>this._allLayerViewsChangeHandle(e))),h.allLayerViews),this._handles.add(s((()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible]),(()=>this._propertiesChangeHandle())),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===u),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(s((()=>[e.legendEnabled,e.layer?.legendEnabled]),(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){const i=e.layer,r=e.uid,t=this._layerInfosByLayerViewId[r];let o=this._activeLayerInfosByLayerViewId[r];if(!o){const s=t&&void 0!==t.title&&t.layer.uid===i.uid;o=new y({layer:i,layerView:e,title:s?t.title:i.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:t&&t.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[r]=o}const l=i.parent&&\"uid\"in i.parent&&this._layerViewByLayerId[i.parent?.uid];if(o.parent=this._activeLayerInfosByLayerViewId[l?.uid],!this._handles.has(r)){const t=[s((()=>i.title),(e=>this._titleHandle(e,o))),s((()=>[i.opacity,\"renderer\"in i&&i.renderer,\"pointSymbol\"in i&&i.pointSymbol,\"lineSymbol\"in i&&i.lineSymbol,\"polygonSymbol\"in i&&i.polygonSymbol]),(()=>this._constructLegendElements(o))),n((()=>!0===this.view?.stationary),(()=>this._scaleHandle(o)),a),s((()=>e._effectiveRenderer),(()=>this._constructLegendElements(o))),s((()=>\"effect\"in i&&i.effect),(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const r=s((()=>e.legendEnabled),(e=>this._legendEnabledHandle(e,o))),a=s((()=>i.legendEnabled),(e=>this._legendEnabledHandle(e,o)));t.push(r,a)}this._handles.add(t,r)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&!this.activeLayerInfos.includes(e)){const i=e.parent;if(i)i.children.includes(e)||i.children.push(e),this._sortActiveLayerInfos(i.children);else{const i=this.layerInfos?.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[r?.uid],s=this._activeLayerInfosByLayerViewId[t?.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"featureReduction\"in i&&\"binning\"===i.featureReduction?.type&&\"renderer\"in i.featureReduction?e.buildLegendElementsForRenderer(i.featureReduction.renderer):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],v.prototype,\"activeLayerInfos\",void 0),e([o()],v.prototype,\"basemapLegendVisible\",void 0),e([o()],v.prototype,\"groundLegendVisible\",void 0),e([o()],v.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],v.prototype,\"keepCacheOnDestroy\",void 0),e([o()],v.prototype,\"respectLayerVisibility\",void 0),e([o()],v.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],v.prototype,\"state\",null),e([o()],v.prototype,\"view\",void 0),v=e([l(\"esri.widgets.Legend.LegendViewModel\")],v);const I=v;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as t,computeBBox as s,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../../symbols/support/utils.js\";import{isRTL as n,classes as d}from\"../../../support/widgetUtils.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const u=\"http://www.w3.org/2000/svg\",b={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function p(e,a,r,l){const{focus:t,labels:s}=e,i=!!t,o=c(e,a,r,l),u={justifyContent:\"center\"},p=n();return i?m(\"div\",{class:b.diamondContainer,styles:u},m(\"div\",{class:b.diamondLeftCol},p?s.right:s.left),m(\"div\",{class:b.diamondMidCol},m(\"div\",{class:b.diamondMidColLabel},s.top),o,m(\"div\",{class:b.diamondMidColLabel},s.bottom)),m(\"div\",{class:b.diamondRightCol},p?s.left:s.right)):m(\"div\",{class:b.squareTable},m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightBottom)},p?s.top:s.left),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftBottom)},p?s.left:s.top)),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:b.squareTableCell}),o,m(\"div\",{class:b.squareTableCell})),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightTop)},p?s.right:s.bottom),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftTop)},p?s.bottom:s.right)))}function h(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,d,p,c,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,g=!!q,L=Math.sqrt(f**2+f**2)+(g?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let s=0;s<k;s++){const i=s*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[s][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(t(u))}}const x=10,R=15,$=15,E=10;let M=null;g||(M=\"margin: -15px -15px -18px -15px\");const S=h(\"left\",q,d),j=h(\"right\",q,d),B=s(w),H=i(B,L,L,0,!1,_,!1),U=i(B,L,L,0,!1,g?-45:null,!1),W={filter:o(c),opacity:null==p?null:`${p}`};return m(\"div\",{styles:W,class:g?b.diamondMidColRamp:b.squareTableCell},m(\"svg\",{xmlns:u,width:L,height:L,style:M},m(\"defs\",null,m(\"marker\",{id:`${d}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),m(\"marker\",{id:`${d}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),C),m(\"g\",{transform:H},v),m(\"g\",{transform:U},m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":j.markerStart,\"marker-end\":j.markerEnd,x1:$,y1:f+E,x2:f-$,y2:f+E}))))}export{p as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const n=t(),l=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),n.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",n){t.infos.forEach(((t,l)=>{if(n&&2===l)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),n=\"div\"===t.preview.tagName.toLowerCase(),l=n?t.preview:document.createElement(\"div\");l.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?l.style.width=`${o}px`:l.style.height=`${o}px`,n||l.appendChild(t.preview),t.preview=l}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),n=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return n.className=c.colorRamp,null!=t.opacity&&(n.style.opacity=t.opacity.toString()),n}function h(t,o,i,n=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=m;v<=u;v++)if(i&&v===p)c+=\"horizontal\"===n?l:r;else{c+=e(f[v].size)+(\"horizontal\"===n?a:s)}return Math.round(c)}function y(t,o,i,n=\"vertical\"){const c=h(t,o,i,n),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===n?r:l:0,d=\"vertical\"===n?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let n=i.find((({type:e})=>\"size-ramp\"===e)),l=i.find((({type:e})=>\"color-ramp\"===e));return n&&(n={...n},n.infos=[...n.infos],m(n,t,o,!0)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===o&&(n?.infos.reverse(),l?.infos.reverse()),{sizeRampElement:n,colorRampElement:l}}function b(e,t=\"vertical\"){const o=e.infos;let i=o.find((({type:e})=>\"size-ramp\"===e)),n=o.find((({type:e})=>\"color-ramp\"===e));return i&&(i={...i},i.infos=[...i.infos],m(i,null,t,!1)),n&&(n={...n},n.infos=[...n.infos]),\"horizontal\"===t&&(i?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:i,colorRampElement:n}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,b as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{pt2px as i}from\"../../../core/screenUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as o}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as l}from\"../../../symbols/support/utils.js\";import n from\"../../Widget.js\";import{renderRelationshipRamp as c}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as d,getUnivariateSizeRampSize as p,getUnivariateColorRampSize as m,getUnivariateColorRampPreview as h,getUnivariateColorRampMargin as y,getUnivariateColorSizeRampElements as g}from\"./support/univariateUtils.js\";import{getTitle as _,attachToNode as v,isImageryStretchedLegend as u}from\"../support/styleUtils.js\";import{Heading as f,incrementHeadingLevel as b}from\"../../support/Heading.js\";import{accessibleHandler as w}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as L}from\"../../support/decorators/messageBundle.js\";import{tsx as C}from\"../../support/jsxFactory.js\";import{isRTL as x}from\"../../support/widgetUtils.js\";import{substitute as S}from\"../../../intl/substitute.js\";const R={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",pieChartRampPreview:\"esri-legend--card__pie-chart-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},z=25,$=25,I=768,k=100;var A;!function(e){e.Auto=\"auto\",e.Stack=\"stack\",e.SideBySide=\"side-by-side\"}(A||(A={}));const N=\"#ddd\",j=window.devicePixelRatio;function E(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function F(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let T=class extends n{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=A.Stack,this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own(s((()=>this.activeLayerInfos),(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)})))}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=this.layout===A.Auto&&this.view.container.clientWidth<=I||this.layout===A.Stack;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=S(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return C(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(R.indicator,{[R.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?C(\"div\",{class:R.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[R.stacked]:this._hasIndicators};return C(\"div\",{class:this.classes(R.base,o)},a||C(\"div\",{class:R.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(s((()=>e.version),(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return C(\"div\",{key:e.layer.uid,class:this.classes(R.service,R.groupLayer)},C(\"div\",{class:R.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[R.groupLayerChild]:!!e.parent};return C(\"div\",{key:e.layer.uid,class:this.classes(R.service,r)},C(\"div\",{class:R.serviceCaptionContainer},C(\"div\",{class:R.serviceCaptionText},e.title)),C(\"div\",{class:R.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,l=t.layer;let n=null;if(\"string\"==typeof e.title)n=e.title;else if(e.title){const t=e.title,s=_(this.messages,t,r||a);n=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(l,e,s),p=this._hasIndicators?C(\"div\",null,C(f,{level:this.headingLevel,class:R.carouselTitle},t.title),C(f,{level:b(this.headingLevel),class:R.layerCaption},n)):n?C(f,{level:this.headingLevel,class:R.layerCaption},n):null,m=t.effectList;let h=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[R.symbolRow],t={[R.labelContainer]:!e&&!i,[R.relationshipLabelContainer]:i};h=C(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?h=this._renderLegendForRamp(e,l.opacity,m):o?h=this._renderSizeRamp(e,l.opacity):\"pie-chart-ramp\"===e.type?h=this._renderPieChartRamp(e):\"relationship-ramp\"===e.type?h=c(e,this.id,l.opacity,m):\"univariate-above-and-below-ramp\"===e.type?h=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,m):\"univariate-color-size-ramp\"===e.type&&(h=this._renderUnivariateColorSizeRamp(e,l.opacity,m));if(!h)return null;const y=C(\"div\",{key:d,class:R.section,id:`${d}-panel`,role:\"tabpanel\",\"aria-labelledby\":d,tabIndex:0},[p,h]);return this._sectionMap.set(d,y),y}_renderPieChartRamp(e){return C(\"div\",{class:R.pieChartRampPreview,bind:e.preview,afterCreate:v})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=d(e,t,\"horizontal\");if(!i)return null;const a=p(i,\"full\",!0,\"horizontal\"),o=m(i,\"above\",!0,\"horizontal\"),l=m(i,\"below\",!0,\"horizontal\"),n=12,c=h(r,{width:o,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s}),g=h(r,{width:l,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s}),_=y(i,\"card\"),u=i.infos.map((e=>e.label)),f=u.length-1,b=u.map(((e,t)=>0===t||t===f?C(\"div\",{key:t},e):null)),w={display:\"flex\",flexDirection:\"column\"},L={display:\"flex\",flexDirection:\"row\"},S={marginTop:\"3px\",display:\"flex\"};x(this.container)?S.marginRight=`${_}px`:S.marginLeft=`${_}px`;const z={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:R.layerRow,key:\"size-ramp-preview\",styles:w},C(\"div\",{class:this.classes(R.symbolContainer,R.sizeRampHorizontal),styles:L},i.infos.map(((e,t)=>C(\"div\",{key:t,class:R.symbol,bind:e.preview,afterCreate:v})))),c?C(\"div\",{class:R.univariateAboveAndBelowColorRamp,styles:S,key:\"color-ramp-preview\"},C(\"div\",{bind:c,afterCreate:v}),C(\"div\",{bind:g,afterCreate:v})):null,C(\"div\",{class:R.layerInfo},C(\"div\",{class:R.rampLabelsContainer,styles:z},b)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=g(e,\"horizontal\");if(!i)return null;const a=p(i,\"full\",!1,\"horizontal\"),o=m(i,\"full\",!1,\"horizontal\"),l=h(r,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s}),n=y(i,\"card\"),c=i.infos.length-1,d=i.infos.map(((e,t)=>0===t||t===c?C(\"div\",{key:t},e.label):null)),_={display:\"flex\",flexDirection:\"column\"},u={display:\"flex\",flexDirection:\"row\"},f={marginTop:\"3px\",display:\"flex\"};x(this.container)?f.marginRight=`${n}px`:f.marginLeft=`${n}px`;const b={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:R.layerRow,key:\"size-ramp-preview\",styles:_},C(\"div\",{class:this.classes(R.symbolContainer,R.sizeRampHorizontal),styles:u},i.infos.map(((e,t)=>C(\"div\",{key:t,class:R.symbol,bind:e.preview,afterCreate:v})))),C(\"div\",{class:R.univariateAboveAndBelowColorRamp,styles:f,key:\"color-ramp-preview\"},C(\"div\",{bind:l,afterCreate:v})),C(\"div\",{class:R.layerInfo},C(\"div\",{class:R.rampLabelsContainer,styles:b},d)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=u(r,s);if(e.preview){if(!e.symbol||!e.symbol.type.includes(\"simple-fill\")){if(!e.label)return C(\"div\",{key:i,bind:e.preview,afterCreate:v});const t={[R.symbolCell]:this._hasIndicators};return C(\"div\",{key:i,class:this.classes(R.layerRow,{[R.symbolRow]:this._hasIndicators})},C(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:v}),C(\"div\",{class:this.classes(R.imageLabel,{[R.labelCell]:this._hasIndicators})},_(this.messages,e.label,!1)||\"\"))}let s=255,a=255,o=255,n=0,c=255,d=255,p=255,m=0;const h=e.symbol.color&&e.symbol.color.a,y=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;h&&(s=e.symbol.color.r,a=e.symbol.color.g,o=e.symbol.color.b,n=e.symbol.color.a*r.opacity),y&&(c=e.symbol.outline.color.r,d=e.symbol.outline.color.g,p=e.symbol.outline.color.b,m=e.symbol.outline.color.a*r.opacity);const g=e.symbol.color?.isBright??!0,u=g?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",f={background:h?`rgba(${s}, ${a}, ${o}, ${n})`:\"none\",color:g?\"black\":\"white\",textShadow:`-1px -1px 0 ${u},\\n                                              1px -1px 0 ${u},\\n                                              -1px 1px 0 ${u},\\n                                              1px 1px 0 ${u}`,border:y?`1px solid rgba(${c}, ${d}, ${p}, ${m})`:\"none\",filter:l(t.effectList)};return C(\"div\",{key:i,class:R.layerRow},C(\"div\",{class:R.labelElement,styles:f},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return C(\"div\",{key:i,class:R.layerRow},t,C(\"div\",{class:R.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[R.imageryLayerStretchedImage]:s,[R.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return C(\"img\",{alt:_(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,s=t[0],r=t[t.length-1],a=s.symbol,o=this._hasIndicators,l=i(s.size+s.outlineSize)*j,n=i(r.size+r.outlineSize)*j,c=o?l:l+50*j,d=o?l/2+50*j:l,p=F(a),m=E(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/j+\"px\",h.style.height=h.height/j+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=N,y.stroke(),C(\"div\",{bind:h,afterCreate:v,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return C(\"div\",{class:this.classes(R.layerRow,{[R.sizeRampRow]:l})},C(\"div\",{class:R.rampLabel},l?i:r),C(\"div\",{class:R.sizeRampContainer,styles:n},C(\"div\",{bind:a,afterCreate:v,class:R.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),C(\"div\",{bind:o,afterCreate:v,class:R.sizeRampContainer,styles:c})),C(\"div\",{class:R.rampLabel},l?r:i))}_renderLegendForRamp(e,t,s){const i=e.infos,r=\"heatmap-ramp\"===e.type,a=i.length-1,n=$,c=a>2&&!r?z*a:k,d=c+20,p=10,m=i.slice(0).reverse();m.forEach(((e,t)=>{e.offset=r?e.ratio:t/a}));const h=m.length-1,y=m.length%2!=0&&m[m.length/2|0],g=y&&C(\"div\",{class:R.intervalSeparatorsContainer},C(\"div\",{class:R.intervalSeparator},\"|\"),C(\"div\",{class:R.rampLabel},y.label)),_=i[i.length-1].label,v=i[0].label,u=[[{shape:{type:\"path\",path:`M0 ${n/2} L${p} 0 L${p} ${n} Z`},fill:m[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:p,y:0,width:c,height:n},fill:{type:\"linear\",x1:p,y1:0,x2:c+p,y2:0,colors:m},stroke:{width:0}},{shape:{type:\"path\",path:`M${c+p} 0 L${d} ${n/2} L${c+p} ${n} Z`},fill:m[h].color,stroke:{width:0}}]],f=o(u,d,n),{messages:b}=this,w={filter:l(s),opacity:null==t?null:`${t}`},L={justifyContent:\"center\"};return C(\"div\",{class:R.layerRow,styles:L},C(\"div\",{class:R.rampLabel},r?b[_]:_),C(\"div\",{class:R.symbolContainer},C(\"div\",{styles:w},f),g),C(\"div\",{class:R.rampLabel},r?b[v]:v))}};e([r()],T.prototype,\"activeLayerInfos\",void 0),e([r()],T.prototype,\"headingLevel\",void 0),e([r()],T.prototype,\"layout\",void 0),e([r(),L(\"esri/widgets/Legend/t9n/Legend\")],T.prototype,\"messages\",void 0),e([r(),L(\"esri/t9n/common\")],T.prototype,\"messagesCommon\",void 0),e([r({readOnly:!0})],T.prototype,\"type\",void 0),e([r()],T.prototype,\"view\",void 0),e([w()],T.prototype,\"_selectSection\",null),T=e([a(\"esri.widgets.Legend.styles.Card\")],T);const B=T;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as t,getUnivariateColorRampSize as i,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as m,attachToNode as y,isImageryStretchedLegend as c}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const u={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends l{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:u.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,a=`${_}${e.layer.uid}-version-${e.version}`,l=e.title?g({level:this.headingLevel,class:this.classes(u.header,u.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:a,class:this.classes(u.service,u.groupLayer)},l,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer,e.effectList))).filter((e=>!!e));if(!s.length)return null;const t={[u.groupLayerChild]:!!e.parent};return h(\"div\",{key:a,class:this.classes(u.service,t),tabIndex:0},l,h(\"div\",{class:u.layer},s))}}_renderLegendForElement(e,r,a,l){const t=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||n){const l=e.infos.map((l=>this._renderLegendForElementInfo(l,r,a,n,e.legendType))).filter((e=>!!e));l.length&&(o=h(\"div\",{class:u.layerBody},l))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=s(e,this.id,r.opacity,a):\"pie-chart-ramp\"===e.type?o=this._renderPieChartRamp(e):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity,a):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity,a));if(!o)return null;const p=e.title;let y=null;if(\"string\"==typeof p)y=p;else if(p){const e=d(this.messages,p,t||i);y=m(p,t||i)&&p.title?`${p.title} (${e})`:e}const c=l?u.layerChildTable:u.layerTable,g=y?h(\"div\",{class:u.layerCaption},y):null,v={[u.layerTableSizeRamp]:n||!l};return h(\"div\",{class:this.classes(c,v)},g,o)}_renderPieChartRamp(e){return h(\"div\",{bind:e.preview,afterCreate:y})}_renderUnivariateAboveAndBelowRamp(e,r,a){const{sizeRampElement:l,colorRampElement:s}=t(e,r);if(!l)return null;const p=i(l,\"above\",!0),d=i(l,\"below\",!0),m=12,c=n(s,{width:m,height:p,rampAlignment:\"vertical\",opacity:r,type:\"above\",effectList:a}),g=n(s,{width:m,height:d,rampAlignment:\"vertical\",opacity:r,type:\"below\",effectList:a}),v=o(l),b=l.infos.map((e=>e.label)),_=b.map(((e,r)=>{const a=2===r;return 0===r?h(\"div\",{key:r,class:e?c?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):a?h(\"div\",null):null})),f=b.length-1,R=Math.floor(b.length/2),A=b.map(((e,r)=>r===R||r===f?h(\"div\",{key:r,class:e?c?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},I={marginTop:`${v}px`},j={height:`${p}px`},k={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},l.infos.map(((e,r)=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:S,bind:e.preview,afterCreate:y}),c||r%2!=0?null:h(\"div\",{class:u.layerInfo},b[r]))))),c?h(\"div\",{styles:I,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:c,afterCreate:y})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:j},_))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:g,afterCreate:y})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:k},A)))):null)}_renderUnivariateColorSizeRamp(e,r,a){const{sizeRampElement:l,colorRampElement:s}=p(e);if(!l)return null;const t=o(l),d=12,m=i(l,\"full\",!1),c=n(s,{width:d,height:m,rampAlignment:\"vertical\",opacity:r,type:\"full\",effectList:a}),g=l.infos.length-1,v=l.infos.map(((e,r)=>0===r||r===g?h(\"div\",{key:r,class:e.label?s?u.univariateAboveAndBelowLabel:u.rampLabel:null},e.label):null)),b={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${t}px`},f={height:`${m}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},l.infos.map((e=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:b,bind:e.preview,afterCreate:y}))))),h(\"div\",{styles:_,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:c,afterCreate:y})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:f},v)))))}_renderLegendForRamp(e,r){const a=e.infos,l=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,i=e.preview,n=l?u.opacityRamp:\"\";i.className=`${u.colorRamp} ${n}`,null!=r&&(i.style.opacity=r.toString());const o=a.map((e=>h(\"div\",{class:e.label?u.rampLabel:null},s?this.messages[e.label]||e.label:t?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:i.style.height};return h(\"div\",{class:u.layerRow},h(\"div\",{class:u.symbolContainer,styles:p},h(\"div\",{class:u.rampContainer,bind:i,afterCreate:y})),h(\"div\",{class:u.layerInfo},h(\"div\",{class:u.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().includes(\"e\")?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,a,l,s){if(e.type)return this._renderLegendForElement(e,r,a,!0);let t=null;const i=c(r,s);if(e.preview?t=h(\"div\",{class:u.symbol,bind:e.preview,afterCreate:y}):e.src&&(t=this._renderImage(e,r,i)),!t)return null;const n={[u.imageryLayerInfoStretched]:i},o={[u.imageryLayerInfoStretched]:i,[u.sizeRamp]:!i&&l};return h(\"div\",{class:u.layerRow},h(\"div\",{class:this.classes(u.symbolContainer,o)},t),h(\"div\",{class:this.classes(u.layerInfo,n)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,a){const{label:l,src:s,opacity:t}=e,i={[u.imageryLayerStretchedImage]:a,[u.symbol]:!a},n={opacity:`${null!=t?t:r.opacity}`};return h(\"img\",{alt:d(this.messages,l,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(i),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([a(\"esri.widgets.Legend.styles.Classic\")],R);const A=R;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/Handles.js\";import{destroyMaybe as t}from\"../core/maybe.js\";import{on as i,watch as r,initial as o}from\"../core/reactiveUtils.js\";import{aliasOf as n}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as a}from\"../core/accessorSupport/decorators/cast.js\";import{property as d}from\"../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import c from\"./Widget.js\";import p from\"./Legend/LegendViewModel.js\";import h from\"./Legend/styles/Card.js\";import y from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as v}from\"./support/decorators/messageBundle.js\";import{tsx as f}from\"./support/jsxFactory.js\";const g={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let m=class extends c{constructor(e,t){super(e,t),this._handles=new s,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=g.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new y,this.view=null,this.viewModel=new p}initialize(){this.own([i((()=>this.view),\"resize\",(()=>this.scheduleRender())),i((()=>this.activeLayerInfos),\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),r((()=>this.headingLevel),(e=>{const{style:s}=this;s&&(s.headingLevel=e)})),r((()=>this.style),((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),o)])}destroy(){this._handles=t(this._handles)}castStyle(e){if(e instanceof h||e instanceof y)return e;if(\"string\"==typeof e)return\"card\"===e?new h:new y;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?h:y)(s)}return new y}render(){return f(\"div\",{class:this.classes(g.base,g.widget,this.style instanceof y?g.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=r((()=>e.version),(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const t=i((()=>e.children),\"change\",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),o);this._handles.add(t,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([n(\"viewModel.activeLayerInfos\")],m.prototype,\"activeLayerInfos\",void 0),e([n(\"viewModel.basemapLegendVisible\")],m.prototype,\"basemapLegendVisible\",void 0),e([n(\"viewModel.groundLegendVisible\")],m.prototype,\"groundLegendVisible\",void 0),e([d()],m.prototype,\"headingLevel\",void 0),e([n(\"viewModel.hideLayersNotInCurrentView\")],m.prototype,\"hideLayersNotInCurrentView\",void 0),e([n(\"viewModel.keepCacheOnDestroy\")],m.prototype,\"keepCacheOnDestroy\",void 0),e([n(\"viewModel.respectLayerVisibility\")],m.prototype,\"respectLayerVisibility\",void 0),e([d()],m.prototype,\"iconClass\",void 0),e([d({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],m.prototype,\"label\",void 0),e([n(\"viewModel.layerInfos\")],m.prototype,\"layerInfos\",void 0),e([d(),v(\"esri/widgets/Legend/t9n/Legend\")],m.prototype,\"messages\",void 0),e([d()],m.prototype,\"style\",void 0),e([a(\"style\")],m.prototype,\"castStyle\",null),e([n(\"viewModel.view\")],m.prototype,\"view\",void 0),e([d()],m.prototype,\"viewModel\",void 0),m=e([l(\"esri.widgets.Legend\")],m);const L=m;export{L as default};\n"],"names":["a","h","t","_from","_to","_final","_current","_time","duration","s","effects","this","_get","_set","_transitionTo","u","e","i","declaredClass","warn","effect","error","transitioning","length","_updateForScale","scale","_","_applyTimeTransition","r","n","c","o","f","push","l","p","Math","min","m","interpolate","g","prototype","value","readOnly","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","floors","layer","hasDynamicLayers","visibleSublayers","map","toExportImageJSON","JSON","stringify","y","serviceSublayers","gdbVersion","handles","remove","add","allSublayers","on","notifyChange","propertyName","id","join","filter","floorInfo","reduce","commitProperty","sublayers","forEach","unshift","some","dpi","format","imageFormat","transparent","imageTransparency","dynamicLayers","layers","layerDefs","type","Number","floorField","view","flatten","originIdOf","mapLayerId","slice","reverse","toArray","layerDefinition","symbol","uniqueValueInfos","defaultSymbol","classBreakInfos","Array","isArray","details","sort","symbolErrors","visualVariables","find","featuresTilingScheme","getClosestInfoForScale","level","levels","field","minSize","size","minDataValue","maxSize","maxDataValue","HH","HL","LL","LH","includes","symbolLayers","getItemAt","color","style","H","label","top","bottom","left","right","focus","infos","numClasses","L","fill","colors","labels","rotation","b","d","V","k","legendOptions","customValues","U","stops","target","w","S","D","v","authoringInfo","z","j","univariateTheme","E","x","C","I","Promise","all","B","P","outlineSize","clone","M","outline","width","material","resource","href","toHex","getSizeRangeAtScale","T","q","fractional","integer","floor","ceil","indexes","previous","getSize","shape","height","font","log10","abs","notation","minimumSignificantDigits","maximumSignificantDigits","se","ae","oe","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","ue","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","ce","ee","de","te","ye","he","me","fe","pe","ge","be","Se","_e","ve","Le","Ee","Ce","we","Ie","Re","Ve","R","Fe","Te","ze","xe","je","De","Oe","Pe","Me","Ae","Be","Ue","ke","Ne","path","qe","We","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","added","removed","uid","ready","destroy","end","_getParentLayerOpacity","_isGroupActive","featureReduction","_isRendererScaleDriven","_isLayerScaleDriven","_isLayerInCurrentView","from","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","then","_constructLegendElementsForVoxellayer","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","renderingRule","functionName","bandIds","_getLegendLayers","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","catch","updating","createQuery","geometry","extent","queryFeatureCount","valueExpression","test","_isScaleDrivenSizeVariable","expression","loaded","sourceJSON","currentVariableId","getVariableStyle","uniqueValues","enabled","transferFunction","colorStops","stretchRange","Q","Z","preview","concat","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","resolve","_legendRequest","exportImageServiceParameters","rasterFunctionDefinition","toJSON","raster","viewId","url","replace","version","indexOf","substring","toLowerCase","le","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","get","subLayerIds","defaultVisibility","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","max","values","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructPieChartRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","A","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","backgroundColor","dotSize","effectList","has","stroke","offset","effectView","calculateDotValue","unit","round","attributes","_getElementInfoForDotDensity","valueExpressionTitle","othersCategory","threshold","defaultColor","defaultLabel","_getVisualVariableLegendElements","holePercentage","backgroundFillSymbol","_loadRenderer","Set","X","findIndex","N","field1","field2","normalizationField","_getFieldAlias","normField","angle","W","_getDomainName","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","_constructTileImageryStretchRendererElements","statistics","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","rasterInfo","pixelType","bandCount","_getStretchLegendElements","_getServerSideLegend","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","hasStandardTime","getStandardTimeValue","keys","colorRamp","_getClusterTitle","$","K","colorName","bandName","Y","axis","O","_effectiveRenderer","clusterMinSize","clusterMaxSize","showLegend","_fetchSymbol","apply","_applySymbolToRenderer","Error","fetchCIMSymbol","cache","fetchSymbol","toRgba","_applyColorTo3dSymbol","F","_getRampTitle","getField","_getSizeLegendElement","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratio","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","dependsOn","$e","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","state","_stateHandles","_resetAll","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","allLayerViews","_allLayerViewsChangeHandle","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","stationary","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","sqrt","class","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","transform","markerStart","markerEnd","x1","y1","x2","y2","justifyContent","document","createElement","className","toString","append","bind","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","Auto","Stack","SideBySide","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","own","_watchForSectionChanges","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderPieChartRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","afterCreate","marginTop","display","marginRight","marginLeft","flexDirection","isBright","background","textShadow","border","_renderImage","alt","primitive","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","cloneNode","_renderSizeRampLines","alignItems","verticalAlign","_getStretchStopLabel","iconClass","viewModel","scheduleRender","_refreshActiveLayerInfos","render","_renderOnActiveLayerInfoChange","aliasOf","overridable"],"sourceRoot":""}