"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4698],{24698:function(e,r,t){t.r(r),t.d(r,{executeScript:function(){return pr},extend:function(){return lr},extractFieldLiterals:function(){return br},findFunctionCalls:function(){return wr},functionHelper:function(){return ir},referencesFunction:function(){return vr},referencesMember:function(){return xr},validateScript:function(){return hr}});var n=t(37762),a=t(74165),u=t(15861),c=t(72741),s=t(19191),o=t(62357),i=t(5431),l=t(790),p=t(47488),f=t(23606),b=t(44715),h=t(28183),x=t(44241),v=t(97512),w=t(83806),d=t(12271),k=t(85265),m=t(82197),y=t(63425),g=t(53866),E=t(32238),Z=t(77577),N=t(7882),I=t(80885),S=t(29909),R=t(78952);function O(e){return e&&"function"==typeof e.then}var T=100;function C(e,r){return A.apply(this,arguments)}function A(){return(A=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],u=0;case 2:if(!(u<t.arguments.length)){e.next=11;break}return e.t0=n,e.next=6,D(r,t.arguments[u]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:u++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,r,t){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.preparsed){e.next=2;break}return e.abrupt("return",n(r,null,t.arguments));case 2:return e.t0=n,e.t1=r,e.t2=t,e.next=7,C(r,t);case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,r,t){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.preparsed){e.next=3;break}return u=n(r,null,t.arguments),e.abrupt("return",(O(u),u));case 3:return e.t0=n,e.t1=r,e.t2=t,e.next=8,C(r,t);case 8:return e.t3=e.sent,c=(0,e.t0)(e.t1,e.t2,e.t3),e.abrupt("return",(O(c),c));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,r,t){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.breakpoint||!0===n){e.next=5;break}return u=t.breakpoint(),e.next=4,u;case 4:return e.abrupt("return",D(r,t,!0));case 5:e.t0=t.type,e.next="VariableDeclarator"===e.t0?8:"VariableDeclaration"===e.t0?9:"BlockStatement"===e.t0?10:"FunctionDeclaration"===e.t0?11:"ReturnStatement"===e.t0?12:"IfStatement"===e.t0?13:"ExpressionStatement"===e.t0?14:"UpdateExpression"===e.t0?15:"AssignmentExpression"===e.t0?16:"ForStatement"===e.t0?17:"ForInStatement"===e.t0?18:"BreakStatement"===e.t0?19:"EmptyStatement"===e.t0?20:"ContinueStatement"===e.t0?21:"TemplateElement"===e.t0?22:"TemplateLiteral"===e.t0?23:"Identifier"===e.t0?24:"MemberExpression"===e.t0?25:"Literal"===e.t0?26:"CallExpression"===e.t0?27:"UnaryExpression"===e.t0?28:"BinaryExpression"===e.t0?29:"LogicalExpression"===e.t0?30:"ArrayExpression"===e.t0?31:"ObjectExpression"===e.t0?32:"Property"===e.t0?33:34;break;case 8:return e.abrupt("return",ye(r,t));case 9:return e.abrupt("return",ke(r,t,0));case 10:return e.abrupt("return",pe(r,t));case 11:return e.abrupt("return",we(r,t));case 12:return e.abrupt("return",xe(r,t));case 13:return e.abrupt("return",ie(r,t));case 14:return e.abrupt("return",se(r,t));case 15:return e.abrupt("return",te(r,t));case 16:return e.abrupt("return",ue(r,t));case 17:return e.abrupt("return",q(r,t));case 18:return e.abrupt("return",ee(r,t));case 19:return e.abrupt("return",b.w);case 20:return e.abrupt("return",b.v);case 21:return e.abrupt("return",b.x);case 22:return e.abrupt("return",_e(r,t));case 23:return e.abrupt("return",je(r,t));case 24:return e.abrupt("return",Me(r,t));case 25:return e.abrupt("return",Ne(r,t));case 26:return e.abrupt("return",t.value);case 27:return e.abrupt("return",De(r,t));case 28:return e.abrupt("return",Se(r,t));case 29:return e.abrupt("return",Ce(r,t));case 30:return e.abrupt("return",Fe(r,t));case 31:return e.abrupt("return",Oe(r,t));case 32:return e.abrupt("return",_(r,t));case 33:return e.abrupt("return",j(r,t));case 34:throw new Error((0,h.H5)(t,"RUNTIME","UNREOGNISED"));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,r){return H.apply(this,arguments)}function H(){return(H=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],u=0;case 2:if(!(u<t.properties.length)){e.next=9;break}return e.next=5,D(r,t.properties[u]);case 5:n[u]=e.sent;case 6:u++,e.next=2;break;case 9:c={},s=0;case 11:if(!(s<n.length)){e.next=21;break}if(i=n[s],!(0,b.o)(i.value)){e.next=15;break}throw new Error("Illegal Argument");case 15:if(!1!==(0,b.b)(i.key)){e.next=17;break}throw new Error("Illegal Argument");case 17:i.value===b.v?c[i.key.toString()]=null:c[i.key.toString()]=i.value;case 18:s++,e.next=11;break;case 21:return l=new o.Z(c),e.abrupt("return",(l.immutable=!1,l));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,r){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r,t.value);case 2:if(n=e.sent,"Identifier"!==t.key.type){e.next=5;break}return e.abrupt("return",{key:t.key.name,value:n});case 5:return e.next=7,D(r,t.key);case 7:return e.t0=e.sent,e.t1=n,e.abrupt("return",{key:e.t0,value:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,r,t){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r,t.body);case 2:if(u=e.sent,n.lastAction=u,!(n.lastAction===b.w||n.lastAction instanceof b.R)){e.next=8;break}e.t0=(n.testResult=!1,n),e.next=16;break;case 8:if(null===t.update){e.next=14;break}return e.next=11,D(r,t.update);case 11:e.t1=n,e.next=15;break;case 14:e.t1=n;case 15:e.t0=e.t1;case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.test){e.next=11;break}return e.next=3,D(r,t.test);case 3:if(u=e.sent,!0!==r.abortSignal.aborted){e.next=6;break}throw new Error("Cancelled");case 6:if(n.testResult=u,!1!==n.testResult){e.next=8;break}return e.abrupt("return",n);case 8:if(!0===n.testResult){e.next=10;break}throw new Error((0,h.H5)(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));case 10:case 11:return e.abrupt("return",V(r,t,n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,r,t,n,a,u){try{(function(e,r,t){return z.apply(this,arguments)})(e,r,t).then((function(){try{!0===t.testResult?++u>T?(u=0,setTimeout((function(){Y(e,r,t,n,a,u)}),0)):Y(e,r,t,n,a,u):t.lastAction instanceof b.R?n(t.lastAction):n(b.v)}catch(c){a(c)}}),(function(e){a(e)}))}catch(c){a(c)}}function q(e,r){try{return null!==r.init?D(e,r.init).then((function(){return new Promise((function(t,n){Y(e,r,{testResult:!0,lastAction:b.v},(function(e){t(e)}),(function(e){n(e)}),0)}))})):new Promise((function(t,n){Y(e,r,{testResult:!0,lastAction:b.v},(function(e){t(e)}),(function(e){n(e)}),0)}))}catch(t){return Promise.reject(t)}}function W(e,r,t,n,a,u,c,s,o,i){try{if(n<=u)return void s(b.v);a.value="k"===c?t[u]:u,D(e,r.body).then((function(l){try{l instanceof b.R?s(l):l===b.w?s(b.v):++i>T?(i=0,setTimeout((function(){W(e,r,t,n,a,u+1,c,s,o,i)}),0)):W(e,r,t,n,a,u+1,c,s,o,i)}catch(p){o(p)}}),(function(e){o(e)}))}catch(l){o(l)}}function K(e,r,t,n,a,u,c,s,o){try{if(t.length()<=a)return void c(b.v);n.value="k"===u?t.get(a):a,D(e,r.body).then((function(i){i instanceof b.R?c(i):i===b.w?c(b.v):++o>T?(o=0,setTimeout((function(){K(e,r,t,n,a+1,u,c,s,o)}),0)):K(e,r,t,n,a+1,u,c,s,o)}),(function(e){s(e)}))}catch(i){s(i)}}function X(e,r,t,n,a,u){try{if(void 0===u&&(u="i"),0===t.length)return void n.resolve(b.v);W(e,r,t,t.length,a,0,u,(function(e){n.resolve(e)}),(function(e){n.reject(e)}),0)}catch(c){n.reject(c)}}function J(e,r,t,n,a,u){try{if(void 0===u&&(u="i"),0===t.length)return void n.resolve(b.v);K(e,r,t,a,0,u,(function(e){n.resolve(e)}),(function(e){n.reject(e)}),0)}catch(c){n.reject(c)}}function Q(e,r,t,n,a){try{X(e,r,t.keys(),n,a,"k")}catch(u){n.reject(u)}}function $(e,r,t,n,a,u,c,s){try{e.next().then((function(o){try{if(null===o)u(b.v);else{var l=i.Z.createFromGraphicLikeObject(o.geometry,o.attributes,n);l._underlyingGraphic=o,a.value=l,D(r,t.body).then((function(i){try{i===b.w?u(b.v):i instanceof b.R?u(i):++s>T?(s=0,setTimeout((function(){$(e,r,t,n,a,u,c,s)}),0)):$(e,r,t,n,a,u,c,s)}catch(o){c(o)}}),(function(e){c(e)}))}}catch(p){c(p)}}),(function(e){c(e)}))}catch(o){c(o)}}function ee(e,r){return re.apply(this,arguments)}function re(){return(re=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){D(r,t.right).then((function(a){try{("VariableDeclaration"===t.left.type?D(r,t.left):Promise.resolve()).then((function(){try{var u="";if("VariableDeclaration"===t.left.type){var c=t.left.declarations[0].id;"Identifier"===c.type&&(u=c.name)}else"Identifier"===t.left.type&&(u=t.left.name);if(!u)throw new Error((0,h.H5)(t,"RUNTIME","INVALIDVARIABLE"));u=u.toLowerCase();var s=null;if(null!==r.localScope&&void 0!==r.localScope[u]&&(s=r.localScope[u]),null===s&&void 0!==r.globalScope[u]&&(s=r.globalScope[u]),null===s)return void n(new Error((0,h.H5)(t,"RUNTIME","VARIABLENOTDECLARED")));(0,b.l)(a)||(0,b.b)(a)?X(r,t,a,{reject:n,resolve:e},s):(0,b.n)(a)?J(r,t,a,{reject:n,resolve:e},s):a instanceof o.Z||(0,b.s)(a)?Q(r,t,a,{reject:n,resolve:e},s):(0,b.y)(a)?$(a.iterator(r.abortSignal),r,t,a,s,(function(r){e(r)}),(function(e){n(e)}),0):X(r,t,[],{reject:n,resolve:e},s)}catch(i){n(i)}}),n)}catch(u){n(u)}}),n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,r){return ne.apply(this,arguments)}function ne(){return(ne=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s,i,l,p,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MemberExpression"!==(n=t.argument).type){e.next=40;break}return u={t:null},e.next=5,D(r,n.object);case 5:if(c=e.sent,s=null,u.t=c,!0!==n.computed){e.next=14;break}return e.next=11,D(r,n.property);case 11:s=e.sent,e.next=15;break;case 14:"Identifier"===n.property.type&&(s=n.property.name);case 15:if(i=u.t,!(0,b.l)(i)){e.next=24;break}if((0,b.a)(s)){e.next=19;break}throw new Error("Invalid Parameter");case 19:if(s<0&&(s=i.length+s),!(s<0||s>=i.length)){e.next=21;break}throw new Error("Assignment outside of array bounds");case 21:l=(0,b.f)(i[s]),i[s]="++"===t.operator?l+1:l-1,e.next=39;break;case 24:if(!(i instanceof o.Z)){e.next=32;break}if(!1!==(0,b.b)(s)){e.next=27;break}throw new Error("Dictionary accessor must be a string");case 27:if(!0===i.hasField(s)){e.next=29;break}throw new Error("Invalid Parameter");case 29:l=(0,b.f)(i.field(s)),i.setField(s,"++"===t.operator?l+1:l-1),e.next=39;break;case 32:if((0,b.s)(i)){e.next=34;break}throw(0,b.n)(i)?new Error("Array is Immutable"):new Error("Invalid Parameter");case 34:if(!1!==(0,b.b)(s)){e.next=36;break}throw new Error("Feature accessor must be a string");case 36:if(!0===i.hasField(s)){e.next=38;break}throw new Error("Invalid Parameter");case 38:l=(0,b.f)(i.field(s)),i.setField(s,"++"===t.operator?l+1:l-1);case 39:return e.abrupt("return",!1===t.prefix?l:"++"===t.operator?l+1:l-1);case 40:if(p="Identifier"===t.argument.type?t.argument.name.toLowerCase():""){e.next=43;break}throw new Error("Invalid identifier");case 43:if(null===r.localScope||void 0===r.localScope[p]){e.next=45;break}return e.abrupt("return",(f=(0,b.f)(r.localScope[p].value),r.localScope[p]={value:"++"===t.operator?f+1:f-1,valueset:!0,node:t},!1===t.prefix?f:"++"===t.operator?f+1:f-1));case 45:if(void 0===r.globalScope[p]){e.next=47;break}return e.abrupt("return",(f=(0,b.f)(r.globalScope[p].value),r.globalScope[p]={value:"++"===t.operator?f+1:f-1,valueset:!0,node:t},!1===t.prefix?f:"++"===t.operator?f+1:f-1));case 47:throw new Error("Variable not recognised");case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,r,t,n){switch(r){case"=":return e===b.v?null:e;case"/=":return(0,b.f)(t)/(0,b.f)(e);case"*=":return(0,b.f)(t)*(0,b.f)(e);case"-=":return(0,b.f)(t)-(0,b.f)(e);case"+=":return(0,b.b)(t)||(0,b.b)(e)?(0,b.h)(t)+(0,b.h)(e):(0,b.f)(t)+(0,b.f)(e);case"%=":return(0,b.f)(t)%(0,b.f)(e);default:throw new Error((0,h.H5)(n,"RUNTIME","OPERATORNOTRECOGNISED"))}}function ue(e,r){return ce.apply(this,arguments)}function ce(){return(ce=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s,i,l,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MemberExpression"!==(n=t.left).type){e.next=56;break}return e.next=4,D(r,t.right);case 4:return u=e.sent,e.next=7,D(r,n.object);case 7:if(c=e.sent,s=null,!0!==n.computed){e.next=15;break}return e.next=12,D(r,n.property);case 12:s=e.sent,e.next=18;break;case 15:if("Identifier"===n.property.type){e.next=17;break}throw new Error("Expected computed or identifier for assignemnt target");case 17:s=n.property.name;case 18:if(!(0,b.l)(c)){e.next=32;break}if((0,b.a)(s)){e.next=21;break}throw new Error("Invalid Parameter");case 21:if(s<0&&(s=c.length+s),!(s<0||s>c.length)){e.next=23;break}throw new Error("Assignment outside of array bounds");case 23:if(s!==c.length){e.next=29;break}if("="===t.operator){e.next=26;break}throw new Error("Invalid Parameter");case 26:c[s]=ae(u,t.operator,c[s],t),e.next=30;break;case 29:c[s]=ae(u,t.operator,c[s],t);case 30:e.next=55;break;case 32:if(!(c instanceof o.Z)){e.next=44;break}if(!1!==(0,b.b)(s)){e.next=35;break}throw new Error("Dictionary accessor must be a string");case 35:if(!0!==c.hasField(s)){e.next=39;break}c.setField(s,ae(u,t.operator,c.field(s),t)),e.next=42;break;case 39:if("="===t.operator){e.next=41;break}throw new Error("Invalid Parameter");case 41:c.setField(s,ae(u,t.operator,null,t));case 42:e.next=55;break;case 44:if((0,b.s)(c)){e.next=46;break}throw(0,b.n)(c)?new Error("Array is Immutable"):new Error("Invalid Parameter");case 46:if(!1!==(0,b.b)(s)){e.next=48;break}throw new Error("Feature accessor must be a string");case 48:if(!0!==c.hasField(s)){e.next=52;break}c.setField(s,ae(u,t.operator,c.field(s),t)),e.next=55;break;case 52:if("="===t.operator){e.next=54;break}throw new Error("Invalid Parameter");case 54:c.setField(s,ae(u,t.operator,null,t));case 55:return e.abrupt("return",b.v);case 56:if(i=n.name.toLowerCase(),null===r.localScope||void 0===r.localScope[i]){e.next=62;break}return e.next=60,D(r,t.right);case 60:return l=e.sent,e.abrupt("return",(r.localScope[i]={value:ae(l,t.operator,r.localScope[i].value,t),valueset:!0,node:t.right},b.v));case 62:if(void 0===r.globalScope[i]){e.next=67;break}return e.next=65,D(r,t.right);case 65:return p=e.sent,e.abrupt("return",(r.globalScope[i]={value:ae(p,t.operator,r.globalScope[i].value,t),valueset:!0,node:t.right},b.v));case 67:throw new Error("Cannot assign undeclared variable");case 68:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,r){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==t.expression.type){e.next=2;break}return e.abrupt("return",D(r,t.expression));case 2:if("CallExpression"!==t.expression.type){e.next=7;break}return e.next=5,D(r,t.expression);case 5:return n=e.sent,e.abrupt("return",n===b.v?b.v:new b.I(n));case 7:return e.next=9,D(r,t.expression);case 9:return u=e.sent,e.abrupt("return",u===b.v?b.v:new b.I(u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,r){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==t.test.type&&"UpdateExpression"!==t.test.type){e.next=2;break}throw new Error((0,h.H5)(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 2:return e.next=4,D(r,t.test);case 4:if(!0!==(n=e.sent)){e.next=7;break}return e.abrupt("return",D(r,t.consequent));case 7:if(!1!==n){e.next=9;break}return e.abrupt("return",null!==t.alternate?D(r,t.alternate):b.v);case 9:throw new Error((0,h.H5)(t.test,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,r){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be(r,t,0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,r,t){return he.apply(this,arguments)}function he(){return(he=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=t.body.length)){e.next=2;break}return e.abrupt("return",b.v);case 2:return e.next=4,D(r,t.body[n]);case 4:return u=e.sent,e.abrupt("return",u instanceof b.R||u===b.w||u===b.x||n===t.body.length-1?u:be(r,t,n+1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,r){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.argument){e.next=2;break}return e.abrupt("return",new b.R(b.v));case 2:return e.next=4,D(r,t.argument);case 4:return n=e.sent,e.abrupt("return",new b.R(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,r){return de.apply(this,arguments)}function de(){return(de=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id.name.toLowerCase(),e.abrupt("return",(r.globalScope[n]={valueset:!0,node:null,value:new l.Z(t,r)},b.v));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,r,t){return me.apply(this,arguments)}function me(){return(me=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=t.declarations.length)){e.next=4;break}e.t0=b.v,e.next=11;break;case 4:return e.next=6,D(r,t.declarations[n]);case 6:if(e.t1=n===t.declarations.length-1,e.t1){e.next=10;break}return e.next=10,ke(r,t,n+1);case 10:e.t0=b.v;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,r){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,null!==t.init){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,D(r,t.init);case 7:e.t0=e.sent;case 8:if(n=e.t0,null===r.localScope){e.next=14;break}if(n===b.v&&(n=null),"Identifier"===t.id.type){e.next=12;break}throw new Error("Can only assign a regular variable");case 12:return u=t.id.name.toLowerCase(),e.abrupt("return",(r.localScope[u]={value:n,valueset:!0,node:t.init},b.v));case 14:if("Identifier"===t.id.type){e.next=16;break}throw new Error("Can only assign a regular variable");case 16:return c=t.id.name.toLowerCase(),e.abrupt("return",(n===b.v&&(n=null),r.globalScope[c]={value:n,valueset:!0,node:t.init},b.v));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=0;function Ze(e,r,t,n){var a;switch(r=r.toLowerCase()){case"hasz":var u=e.hasZ;return void 0!==u&&u;case"hasm":var c=e.hasM;return void 0!==c&&c;case"spatialreference":var s=e.spatialReference._arcadeCacheId;if(void 0===s){var i=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(i=!1),i&&(Ee++,e.spatialReference._arcadeCacheId=Ee,s=Ee)}var l=new o.Z({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==s&&(l._arcadeCacheId="SPREF"+s.toString()),l}switch(e.type){case"extent":switch(r){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var b=e[r];return void 0!==b?b:null;case"type":return"Extent"}break;case"polygon":switch(r){case"rings":return void 0===(a=e.cache._arcadeCacheId)&&(a=++Ee,e.cache._arcadeCacheId=a),new p.Z(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,a);case"type":return"Polygon"}break;case"point":switch(r){case"x":case"y":case"z":case"m":return void 0!==e[r]?e[r]:null;case"type":return"Point"}break;case"polyline":switch(r){case"paths":return void 0===(a=e.cache._arcadeCacheId)&&(a=++Ee,e.cache._arcadeCacheId=a),new p.Z(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,a);case"type":return"Polyline"}break;case"multipoint":switch(r){case"points":return void 0===(a=e.cache._arcadeCacheId)&&(a=++Ee,e.cache._arcadeCacheId=a),new f.Z(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,a,1);case"type":return"Multipoint"}}throw new Error((0,h.H5)(n,"RUNTIME","PROPERTYNOTFOUND"))}function Ne(e,r){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r,t.object);case 2:if(null!==(n=e.sent)){e.next=5;break}throw new Error((0,h.H5)(t,"RUNTIME","NOTFOUND"));case 5:if(!1!==t.computed){e.next=13;break}if("Identifier"!==t.property.type){e.next=12;break}if(!(n instanceof o.Z||(0,b.s)(n))){e.next=9;break}return e.abrupt("return",n.field(t.property.name));case 9:if(!(n instanceof E.Z)){e.next=11;break}return e.abrupt("return",Ze(n,t.property.name,0,t));case 11:case 12:case 19:case 23:case 29:case 35:case 41:case 42:throw new Error((0,h.H5)(t,"RUNTIME","INVALIDTYPE"));case 13:return e.next=15,D(r,t.property);case 15:if(u=e.sent,!(n instanceof o.Z||(0,b.s)(n))){e.next=20;break}if(!(0,b.b)(u)){e.next=19;break}return e.abrupt("return",n.field(u));case 20:if(!(n instanceof E.Z)){e.next=24;break}if(!(0,b.b)(u)){e.next=23;break}return e.abrupt("return",Ze(n,u,0,t));case 24:if(!(0,b.l)(n)){e.next=30;break}if(!(0,b.a)(u)||!isFinite(u)||Math.floor(u)!==u){e.next=29;break}if(u<0&&(u=n.length+u),!(u>=n.length||u<0)){e.next=28;break}throw new Error((0,h.H5)(t,"RUNTIME","OUTOFBOUNDS"));case 28:case 40:return e.abrupt("return",n[u]);case 30:if(!(0,b.n)(n)){e.next=36;break}if(!(0,b.a)(u)||!isFinite(u)||Math.floor(u)!==u){e.next=35;break}if(u<0&&(u=n.length()+u),!(u>=n.length()||u<0)){e.next=34;break}throw new Error((0,h.H5)(t,"RUNTIME","OUTOFBOUNDS"));case 34:return e.abrupt("return",n.get(u));case 36:if(!(0,b.b)(n)){e.next=42;break}if(!(0,b.a)(u)||!isFinite(u)||Math.floor(u)!==u){e.next=41;break}if(u<0&&(u=n.length+u),!(u>=n.length||u<0)){e.next=40;break}throw new Error((0,h.H5)(t,"RUNTIME","OUTOFBOUNDS"));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,r){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r,t.argument);case 2:if(n=e.sent,!(0,b.i)(n)){e.next=13;break}if("!"!==t.operator){e.next=6;break}return e.abrupt("return",!n);case 6:if("-"!==t.operator){e.next=8;break}return e.abrupt("return",-1*(0,b.f)(n));case 8:if("+"!==t.operator){e.next=10;break}return e.abrupt("return",1*(0,b.f)(n));case 10:if("~"!==t.operator){e.next=12;break}return e.abrupt("return",~(0,b.f)(n));case 12:case 19:throw new Error((0,h.H5)(t,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));case 13:if("-"!==t.operator){e.next=15;break}return e.abrupt("return",-1*(0,b.f)(n));case 15:if("+"!==t.operator){e.next=17;break}return e.abrupt("return",1*(0,b.f)(n));case 17:if("~"!==t.operator){e.next=19;break}return e.abrupt("return",~(0,b.f)(n));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,r){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],u=0;case 2:if(!(u<t.elements.length)){e.next=11;break}return e.t0=n,e.next=6,D(r,t.elements[u]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:u++,e.next=2;break;case 11:c=0;case 12:if(!(c<n.length)){e.next=19;break}if(!(0,b.o)(n[c])){e.next=15;break}throw new Error((0,h.H5)(t,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));case 15:n[c]===b.v&&(n[c]=null);case 16:c++,e.next=12;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,r){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,D(r,t.left);case 3:return n[0]=e.sent,e.next=6,D(r,t.right);case 6:n[1]=e.sent,u=n[0],c=n[1],e.t0=t.operator,e.next="|"===e.t0||"<<"===e.t0||">>"===e.t0||">>>"===e.t0||"^"===e.t0||"&"===e.t0?11:"=="===e.t0?12:"!="===e.t0?13:"<"===e.t0||">"===e.t0||"<="===e.t0||">="===e.t0?14:"+"===e.t0?15:"-"===e.t0?16:"*"===e.t0?17:"/"===e.t0?18:"%"===e.t0?19:20;break;case 11:return e.abrupt("return",(0,b.r)((0,b.f)(u),(0,b.f)(c),t.operator));case 12:return e.abrupt("return",(0,b.m)(u,c));case 13:return e.abrupt("return",!(0,b.m)(u,c));case 14:return e.abrupt("return",(0,b.q)(u,c,t.operator));case 15:return e.abrupt("return",(0,b.b)(u)||(0,b.b)(c)?(0,b.h)(u)+(0,b.h)(c):(0,b.f)(u)+(0,b.f)(c));case 16:return e.abrupt("return",(0,b.f)(u)-(0,b.f)(c));case 17:return e.abrupt("return",(0,b.f)(u)*(0,b.f)(c));case 18:return e.abrupt("return",(0,b.f)(u)/(0,b.f)(c));case 19:return e.abrupt("return",(0,b.f)(u)%(0,b.f)(c));case 20:throw new Error((0,h.H5)(t,"RUNTIME","OPERATORNOTRECOGNISED"));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,r){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AssignmentExpression"!==t.left.type&&"UpdateExpression"!==t.left.type){e.next=2;break}throw new Error((0,h.H5)(t.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 2:if("AssignmentExpression"!==t.right.type&&"UpdateExpression"!==t.right.type){e.next=4;break}throw new Error((0,h.H5)(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));case 4:return e.next=6,D(r,t.left);case 6:if(n=e.sent,u=null,(0,b.i)(n)){e.next=10;break}throw new Error((0,h.H5)(t,"RUNTIME","ONLYBOOLEAN"));case 10:e.t0=t.operator,e.next="||"===e.t0?13:"&&"===e.t0?21:29;break;case 13:if(!0!==n){e.next=15;break}return e.abrupt("return",n);case 15:return e.next=17,D(r,t.right);case 17:if(u=e.sent,!(0,b.i)(u)){e.next=20;break}return e.abrupt("return",u);case 20:case 28:case 29:throw new Error((0,h.H5)(t,"RUNTIME","ONLYORORAND"));case 21:if(!1!==n){e.next=23;break}return e.abrupt("return",n);case 23:return e.next=25,D(r,t.right);case 25:if(u=e.sent,!(0,b.i)(u)){e.next=28;break}return e.abrupt("return",u);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,r){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name.toLowerCase(),null===r.localScope||void 0===r.localScope[n]){e.next=12;break}if(!0!==(u=r.localScope[n]).valueset){e.next=5;break}return e.abrupt("return",u.value);case 5:if(null===u.d){e.next=7;break}return e.abrupt("return",u.d);case 7:return u.d=D(r,u.node),e.next=10,u.d;case 10:return c=e.sent,e.abrupt("return",(u.value=c,u.valueset=!0,c));case 12:if(void 0===r.globalScope[n]){e.next=23;break}if(!0!==(s=r.globalScope[n]).valueset){e.next=16;break}return e.abrupt("return",s.value);case 16:if(null===s.d){e.next=18;break}return e.abrupt("return",s.d);case 18:return s.d=D(r,s.node),e.next=21,s.d;case 21:return o=e.sent,e.abrupt("return",(s.value=o,s.valueset=!0,o));case 23:throw new Error((0,h.H5)(t,"RUNTIME","VARIABLENOTFOUND"));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,r){return Le.apply(this,arguments)}function Le(){return(Le=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Identifier"===t.callee.type){e.next=2;break}throw new Error((0,h.H5)(t,"RUNTIME","ONLYNODESSUPPORTED"));case 2:if(null===r.localScope||void 0===r.localScope[t.callee.name.toLowerCase()]){e.next=9;break}if(!((n=r.localScope[t.callee.name.toLowerCase()]).value instanceof b.N)){e.next=6;break}return e.abrupt("return",n.value.fn(r,t));case 6:if(!(n.value instanceof l.Z)){e.next=8;break}return e.abrupt("return",tr(r,t,n.value.definition));case 8:case 15:throw new Error((0,h.H5)(t,"RUNTIME","NOTAFUNCTION"));case 9:if(void 0===r.globalScope[t.callee.name.toLowerCase()]){e.next=16;break}if(!((u=r.globalScope[t.callee.name.toLowerCase()]).value instanceof b.N)){e.next=13;break}return e.abrupt("return",u.value.fn(r,t));case 13:if(!(u.value instanceof l.Z)){e.next=15;break}return e.abrupt("return",tr(r,t,u.value.definition));case 16:throw new Error((0,h.H5)(t,"RUNTIME","NOTFOUND"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,r){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.value?t.value.cooked:"");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,r){return Be.apply(this,arguments)}function Be(){return(Be=(0,u.Z)((0,a.Z)().mark((function e(r,t){var u,c,s,o,i,l,p,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=[],c=0;case 2:if(!(c<t.expressions.length)){e.next=10;break}return e.next=5,D(r,t.expressions[c]);case 5:s=e.sent,u[c]=(0,b.h)(s);case 7:c++,e.next=2;break;case 10:o="",i=0,l=(0,n.Z)(t.quasis);try{for(l.s();!(p=l.n()).done;)f=p.value,o+=f.value?f.value.cooked:"",!1===f.tail&&(o+=u[i]?u[i]:"",i++)}catch(a){l.e(a)}finally{l.f()}return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve={};function Ge(e){return null===e?"":(0,b.l)(e)||(0,b.n)(e)?"Array":(0,b.j)(e)?"Date":(0,b.b)(e)?"String":(0,b.i)(e)?"Boolean":(0,b.a)(e)?"Number":e instanceof s.Z?"Attachment":e instanceof c.Z?"Portal":e instanceof o.Z?"Dictionary":(0,b.s)(e)?"Feature":e instanceof N.Z?"Point":e instanceof I.Z?"Polygon":e instanceof S.Z?"Polyline":e instanceof Z.Z?"Multipoint":e instanceof g.Z?"Extent":(0,b.o)(e)?"Function":(0,b.y)(e)?"FeatureSet":(0,b.z)(e)?"FeatureSetCollection":e===b.v?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function ze(e,r,t,n){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)((0,a.Z)().mark((function e(r,t,n,u){var c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r,t.arguments[n]);case 2:if(c=e.sent,!(0,b.m)(c,u)){e.next=5;break}return e.abrupt("return",D(r,t.arguments[n+1]));case 5:return s=t.arguments.length-n,e.abrupt("return",1===s?D(r,t.arguments[n]):2===s?null:3===s?D(r,t.arguments[n+2]):ze(r,t,n+2,u));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,r,t,n){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)((0,a.Z)().mark((function e(r,t,n,u){var c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==u){e.next=2;break}return e.abrupt("return",D(r,t.arguments[n+1]));case 2:if(3!==t.arguments.length-n){e.next=4;break}return e.abrupt("return",D(r,t.arguments[n+2]));case 4:return e.next=6,D(r,t.arguments[n+2]);case 6:if(c=e.sent,!1!==(0,b.i)(c)){e.next=9;break}throw new Error("WHEN needs boolean test conditions");case 9:return e.abrupt("return",qe(r,t,n+2,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,r){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length,u=Math.floor(n/2),0!==n){e.next=3;break}return e.abrupt("return",[]);case 3:if(1!==n){e.next=5;break}return e.abrupt("return",[r[0]]);case 5:return c=[Ke(r.slice(0,u),t),Ke(r.slice(u,n),t)],e.next=8,Promise.all(c);case 8:return s=e.sent,e.abrupt("return",Je(s[0],s[1],t,[]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,r,t,n){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)((0,a.Z)().mark((function e(r,t,n,u){var c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u,r.length>0||t.length>0){e.next=3;break}return e.abrupt("return",u);case 3:if(!(r.length>0&&t.length>0)){e.next=8;break}return e.next=6,n(r[0],t[0]);case 6:return s=e.sent,e.abrupt("return",(isNaN(s)&&(s=1),s<=0?(c.push(r[0]),r=r.slice(1)):(c.push(t[0]),t=t.slice(1)),Je(r,t,n,u)));case 8:return e.abrupt("return",r.length>0?(c.push(r[0]),Je(r=r.slice(1),t,n,u)):t.length>0?(c.push(t[0]),Je(r,t=t.slice(1),n,u)):void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,r){var t=e.length,n=Math.floor(t/2);return r||(r=function(e,r){return e<r?-1:e===r?0:1}),0===t?[]:1===t?[e[0]]:function(e,r,t){for(var n=[];e.length>0||r.length>0;)if(e.length>0&&r.length>0){var a=t(e[0],r[0]);isNaN(a)&&(a=1),a<=0?(n.push(e[0]),e=e.slice(1)):(n.push(r[0]),r=r.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):r.length>0&&(n.push(r[0]),r=r.slice(1));return n}($e(e.slice(0,n),r),$e(e.slice(n,t),r),r)}function er(e,r,t){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u,c,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.body,n.length===r.params.length){e.next=3;break}throw new Error("Invalid Parameter calls to function.");case 3:for(c=0;c<n.length;c++)"Identifier"===(s=r.params[c]).type&&(t.localScope[s.name.toLowerCase()]={d:null,value:n[c],valueset:!0,node:null});return e.next=6,D(t,u);case 6:if(!((o=e.sent)instanceof b.R)){e.next=9;break}return e.abrupt("return",o.value);case 9:if(o!==b.w){e.next=11;break}throw new Error("Cannot Break from a Function");case 11:if(o!==b.x){e.next=13;break}throw new Error("Cannot Continue from a Function");case 13:return e.abrupt("return",o instanceof b.I?o.value:o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,r,t){return M(e,r,(function(r,n,a){var u={spatialReference:e.spatialReference,services:e.services,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:e.depthCounter+1};if(u.depthCounter>64)throw new Error("Exceeded maximum function depth");return er(t,u,a)}))}function nr(e){return function(){var r={abortSignal:e.context.abortSignal,spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,interceptor:e.context.interceptor,services:e.context.services,localScope:{},globalScope:e.context.globalScope,depthCounter:e.context.depthCounter+1};if(r.depthCounter>64)throw new Error("Exceeded maximum function depth");return er(e.definition,r,arguments)}}(0,v.r)(Ve,F),(0,y.r)(Ve,F),(0,k.r)(Ve,F),(0,d.r)(Ve,F),(0,m.r)(Ve,F),(0,w.registerFunctions)({functions:Ve,compiled:!1,signatures:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:"async",standardFunction:F,standardFunctionAsync:M}),Ve.typeof=function(e,r){return F(e,r,(function(e,r,t){(0,b.p)(t,1,1);var n=Ge(t[0]);if("Unrecognised Type"===n)throw new Error("Unrecognised Type");return n}))},Ve.iif=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,b.p)(null===t.arguments?[]:t.arguments,3,3),e.next=3,D(r,t.arguments[0]);case 3:if(n=e.sent,!1!==(0,b.i)(n)){e.next=6;break}throw new Error("IF Function must have a boolean test condition");case 6:return u=[],e.next=9,D(r,t.arguments[1]);case 9:return u[0]=e.sent,e.next=12,D(r,t.arguments[2]);case 12:return u[1]=e.sent,e.abrupt("return",n?u[0]:u[1]);case 14:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Ve.decode=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.arguments.length<2)){e.next=2;break}throw new Error("Missing Parameters");case 2:if(2!==t.arguments.length){e.next=4;break}return e.abrupt("return",D(r,t.arguments[1]));case 4:if((t.arguments.length-1)%2!=0){e.next=6;break}throw new Error("Must have a default value result.");case 6:return e.t0=ze,e.t1=r,e.t2=t,e.next=11,D(r,t.arguments[0]);case 11:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,1,e.t3));case 13:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Ve.when=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.arguments.length<3)){e.next=2;break}throw new Error("Missing Parameters");case 2:if(t.arguments.length%2!=0){e.next=4;break}throw new Error("Must have a default value result.");case 4:return e.next=6,D(r,t.arguments[0]);case 6:if(n=e.sent,!1!==(0,b.i)(n)){e.next=9;break}throw new Error("WHEN needs boolean test conditions");case 9:return e.abrupt("return",qe(r,t,0,n));case 10:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Ve.sort=function(e,r){return M(e,r,function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r,t,n){var u,c,s,o,i,l,p,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,b.p)(n,1,2),u=n[0],(0,b.n)(u)&&(u=u.toArray()),!1!==(0,b.l)(u)){e.next=4;break}throw new Error("Illegal Argument");case 4:if(!(n.length>1)){e.next=8;break}if(!1!==(0,b.o)(n[1])){e.next=7;break}throw new Error("Illegal Argument");case 7:return e.abrupt("return",Ke(u,nr(n[1])));case 8:if(0!==(c=u).length){e.next=11;break}return e.abrupt("return",[]);case 11:for(s={},o=0;o<c.length;o++)""!==(i=Ge(c[o]))&&(s[i]=!0);if(!0!==s.Array&&!0!==s.Dictionary&&!0!==s.Feature&&!0!==s.Point&&!0!==s.Polygon&&!0!==s.Polyline&&!0!==s.Multipoint&&!0!==s.Extent&&!0!==s.Function){e.next=15;break}return e.abrupt("return",c.slice(0));case 15:for(f in l=0,p="",s)l++,p=f;return e.abrupt("return",(l>1||"String"===p?c=$e(c,(function(e,r){if(null==e||e===b.v)return null==r||r===b.v?0:1;if(null==r||r===b.v)return-1;var t=(0,b.h)(e),n=(0,b.h)(r);return t<n?-1:t===n?0:1})):"Number"===p?c=$e(c,(function(e,r){return e-r})):"Boolean"===p?c=$e(c,(function(e,r){return e===r?0:r?-1:1})):"Date"===p&&(c=$e(c,(function(e,r){return r-e}))),c));case 18:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}())};var ar={fixSpatialReference:b.A,parseArguments:C,standardFunction:F,standardFunctionAsync:M,evaluateIdentifier:Me,arcadeCustomFunction:nr};for(var ur in Ve)Ve[ur]={value:new b.N(Ve[ur]),valueset:!0,node:null};var cr=function(){};function sr(e,r){var t=new cr;null==e&&(e={}),null==r&&(r={});var n=new o.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var a in n.immutable=!1,t.textformatting={value:n,valueset:!0,node:null},r)t[a]={value:new b.N(r[a]),native:!0,valueset:!0,node:null};for(var u in e)e[u]&&"esri.Graphic"===e[u].declaredClass?t[u]={value:i.Z.createFromGraphic(e[u]),valueset:!0,node:null}:t[u]={value:e[u],valueset:!0,node:null};return t}function or(e){console.log(e)}(cr.prototype=Ve).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},cr.prototype.pi={value:Math.PI,valueset:!0,node:null};var ir=ar;function lr(e){for(var r={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:F,standardFunctionAsync:M,evaluateIdentifier:Me,arcadeCustomFunctionHandler:nr},t=0;t<e.length;t++)e[t].registerFunctions(r);for(var n in r.functions)Ve[n]={value:new b.N(r.functions[n]),valueset:!0,node:null},cr.prototype[n]=Ve[n];for(var a=0;a<r.signatures.length;a++)(0,h.gW)(r.signatures[a],"async")}function pr(e,r){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)((0,a.Z)().mark((function e(r,t){var n,u,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=t.spatialReference)&&(n=new R.Z({wkid:102100})),u=sr(t.vars,t.customfunctions),c={spatialReference:n,services:t.services,abortSignal:void 0===t.abortSignal||null===t.abortSignal?{aborted:!1}:t.abortSignal,globalScope:u,console:t.console?t.console:or,lrucache:t.lrucache,interceptor:t.interceptor,localScope:null,depthCounter:1},e.next=5,D(c,r.body[0].body);case 5:if((s=e.sent)instanceof b.R&&(s=s.value),s instanceof b.I&&(s=s.value),s===b.v&&(s=null),s!==b.w){e.next=8;break}throw new Error("Cannot return BREAK");case 8:if(s!==b.x){e.next=10;break}throw new Error("Cannot return CONTINUE");case 10:if(!(s instanceof b.N)){e.next=12;break}throw new Error("Cannot return FUNCTION");case 12:if(!(s instanceof l.Z)){e.next=14;break}throw new Error("Cannot return FUNCTION");case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(e,r){return(0,h.mb)(e)}function hr(e,r){return(0,h.FS)(e,r,"full")}function xr(e,r){return(0,h.bV)(e,r)}function vr(e,r){return(0,h.w8)(e,r)}function wr(e){return(0,h.Vf)(e)}lr([x.A])}}]);
//# sourceMappingURL=4698.aa681823.chunk.js.map