"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[394],{80394:function(e,n,r){r.d(n,{Hq:function(){return I},Mk:function(){return d},P_:function(){return Y},Qp:function(){return V},VO:function(){return C},_D:function(){return k},kZ:function(){return D},kr:function(){return X},nF:function(){return N},tB:function(){return O},ut:function(){return B},vF:function(){return K},zD:function(){return P}});var i,t,a=r(74165),o=r(1413),s=r(29439),u=r(15861),f=(r(59486),r(10064)),l=r(92026),c=r(68860),h=r(15075),x=r(79803),p=r(53866),v=r(7882),m=r(80885),g=r(78952);function d(e,n,r){return!(0,x.Up)(e,n,r)}function y(e,n,r){var i=d(e,n,r);if(i&&!(0,x.kR)())throw new f.Z("rasterprojectionhelper-project","projection engine is not loaded");return i}(t=i||(i={}))[t.None=0]="None",t[t.North=1]="North",t[t.South=2]="South",t[t.Both=3]="Both";var w=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(1===r[0])return[0,0];for(var t=1,a=-1,o=1,s=-1,u=0;u<e.length;u+=2)isNaN(e[u])||(t=t>e[u]?e[u]:t,a=a>e[u]?a:e[u],o=o>e[u+1]?e[u+1]:o,s=s>e[u+1]?s:e[u+1]);for(var f=n.cols,l=n.rows,c=(a-t)/f/r[0],h=(s-o)/l/r[1],x=2*i,p=0,v=!1,m=[0,0],g=0;g<f-3;g++){for(var d=0;d<l-3;d++){var y=g*l*2+2*d,w=(e[y]+e[y+4]+e[y+4*l]+e[y+4*l+4])/4,M=(e[y+1]+e[y+5]+e[y+4*l+1]+e[y+4*l+5])/4,R=Math.abs((w-e[y+2*l+2])/c),b=Math.abs((M-e[y+2*l+3])/h);if(R+b>p&&(p=R+b,m=[R,b]),x&&p>x){v=!0;break}}if(v)break}return m},M={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},R=new Map,b=new Map;function P(){return S.apply(this,arguments)}function S(){return(S=(0,u.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,x.kR)()){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,(0,x.zD)();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,n,r){return y(e.spatialReference,n)?r?(0,x.rS)(n,e.spatialReference,e):(0,x.rS)(e.spatialReference,n,e):null}function C(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,t=e.spatialReference;if(t.equals(n))return e;y(t,n,i);var a,o=r.center,s=new p.Z({xmin:o.x-e.x/2,xmax:o.x+e.x/2,ymin:o.y-e.y/2,ymax:o.y+e.y/2,spatialReference:t}),u=(0,x.iV)(s,n,i),f=B(n);if((0,l.Wi)(u)||(0,l.pC)(f)&&u.width>=f){var h=(0,c.c9)(t)/(0,c.c9)(n);a={x:e.x*h,y:e.y*h}}else a={x:u.width,y:u.height};return a}function G(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return(0,c.c9)(e)?n/(0,c.c9)(e):0}function N(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=e.spatialReference;if(t.equals(n))return e;y(t,n,r);var a=(0,x.iV)(e,n,r);if(!i||!a)return a;var o=A(t,!0),s=A(n,!0),u=G(t);return u&&(0,l.pC)(o)&&(0,l.pC)(s)&&(a.x>0&&Math.abs(e.x-o[0])<u?a.x-=s[1]-s[0]:a.x<0&&Math.abs(e.x-o[1])<u&&(a.x+=s[1]-s[0])),a}function E(e){var n=e.inSR,r=e.outSR,i=e.datumTransformation,t=e.preferPE;if(n.equals(r))return _(e,null).points;if(n.isWebMercator&&r.isWGS84||n.isWGS84&&r.isWebMercator)return function(e){var n=e.cols,r=e.rows,i=e.xres,t=e.yres,a=e.usePixelCenter,o=e.inSR,s=e.outSR,u=e.xmin,f=e.ymax;a&&(u+=i/2,f-=t/2);for(var l=[],c=[],h=Math.max(n,r),p=0;p<h;p++){var m=u+i*Math.min(n,p),g=f-t*Math.min(r,p),d=(0,x.iV)(new v.Z({x:m,y:g,spatialReference:o}),s);p<=n&&l.push(d.x),p<=r&&c.push(d.y)}for(var y=[],w=0;w<n;w++)for(var M=0;M<r;M++)y.push([l[w],c[M]]);return y}(e);if(y(n,r,i)&&t){if(n.isGeographic)return Z(e);var a=T(n);if((0,l.pC)(a))return Z(e)}return function(e){var n=_(e,null).points.map((function(n){return new v.Z(n[0],n[1],e.inSR)}));return(0,x.iV)(n,e.outSR,e.datumTransformation).map((function(e){return e?[e.x,e.y]:[NaN,NaN]}))}(e)}function Z(e){var n=e.inSR,r=e.outSR,i=e.datumTransformation,t=_(e,T(n)),a=t.points,o=t.mask;if(!n.isGeographic){var u=n.wkid?h.e.coordsys(n.wkid):h.e.fromString(n.isGeographic?h.f.PE_TYPE_GEOGCS:h.f.PE_TYPE_PROJCS,n.wkt);h.g.projToGeog(u,a.length,a)}if((0,l.pC)(i)&&i.steps.length&&i.steps.forEach((function(e){var n=e.wkid?h.e.geogtran(e.wkid):h.e.fromString(h.f.PE_TYPE_GEOGTRAN,e.wkt);h.h.geogToGeog(n,a.length,a,null,e.isInverse?h.f.PE_TRANSFORM_2_TO_1:h.f.PE_TRANSFORM_1_TO_2)})),!r.isGeographic){var f=T(r,!0),c=(0,l.pC)(f)&&f.isEnvelope?[f.bbox[1],f.bbox[3]]:[-90,90];!function(e,n){for(var r=(0,s.Z)(n,2),i=r[0],t=r[1],a=0;a<e.length;a++){var o=e[a][1];(o<i||o>t)&&(e[a]=[NaN,NaN])}}(a,c);var x=r.wkid?h.e.coordsys(r.wkid):h.e.fromString(r.isGeographic?h.f.PE_TYPE_GEOGCS:h.f.PE_TYPE_PROJCS,r.wkt);h.g.geogToProj(x,a.length,a)}var p=a;if(o&&a.length!==o.length){p=[];for(var v=0,m=0;v<o.length;v++)o[v]?p.push(a[m++]):p.push([NaN,NaN])}return p}function T(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.wkid||e.wkt;if(!r||e.isGeographic)return null;if(r=String(r),R.has(r)){var i=R.get(r);return n?null===i||void 0===i?void 0:i.gcs:null===i||void 0===i?void 0:i.pcs}var t=e.wkid?h.e.coordsys(e.wkid):h.e.fromString(e.isGeographic?h.f.PE_TYPE_GEOGCS:h.f.PE_TYPE_PROJCS,e.wkt),a=W(t,G(e,1e-4)),o=W(t,0,!0);return R.set(r,{pcs:a,gcs:o}),n?o:a}function W(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=h.j.generate(e),t=r?e.horizonGcsGenerate():e.horizonPcsGenerate();if(null===t||void 0===t||!t.length)return null;var a=!1,o=t.find((function(e){return 1===e.getInclusive()&&1===e.getKind()}));if(!o){if(o=t.find((function(e){return 1===e.getInclusive()&&0===e.getKind()})),!o)return null;a=!0}var u=r?0:(2===i.getNorthPoleLocation()?1:0)|(2===i.getSouthPoleLocation()?2:0),f=i.isPannableRectangle(),l=o.getCoord();if(a)return{isEnvelope:a,isPannable:f,vertices:l,coef:null,bbox:[l[0][0]-n,l[0][1]-n,l[1][0]+n,l[1][1]+n],poleLocation:u};for(var c=0,x=[],p=(0,s.Z)(l[0],2),v=p[0],m=p[1],g=(0,s.Z)(l[0],2),d=g[0],y=g[1],w=0,M=l.length;w<M;w++){++c===M&&(c=0);var R=(0,s.Z)(l[w],2),b=R[0],P=R[1],S=(0,s.Z)(l[c],2),k=S[0],C=S[1];if(C===P)x.push([b,k,P,C,2]);else{var G=(k-b)/(C-P||1e-4),N=b-G*P;P<C?x.push([G,N,P,C,0]):x.push([G,N,C,P,1])}v=v<b?v:b,m=m<P?m:P,d=d>b?d:b,y=y>P?y:P}return{isEnvelope:!1,isPannable:f,vertices:l,coef:x,bbox:[v,m,d,y],poleLocation:u}}function _(e,n){var r=[],i=e.cols,t=e.rows,a=e.xres,o=e.yres,u=e.usePixelCenter,f=e.xmin,c=e.ymax;if(u&&(f+=a/2,c-=o/2),(0,l.Wi)(n)){for(var h=0;h<i;h++)for(var x=0;x<t;x++)r.push([f+a*h,c-o*x]);return{points:r}}var p=new Uint8Array(i*t);if(n.isEnvelope){for(var v=(0,s.Z)(n.bbox,4),m=v[0],g=v[1],d=v[2],y=v[3],w=0,M=0;w<i;w++)for(var R=f+a*w,b=n.isPannable||R>=m&&R<=d,P=0;P<t;P++,M++){var S=c-o*P;b&&S>=g&&S<=y&&(r.push([R,S]),p[M]=1)}return{points:r,mask:p}}for(var k=n.coef,C=[],G=0;G<t;G++){for(var N=c-o*G,E=[],Z=[],T=0;T<k.length;T++){var W=(0,s.Z)(k[T],5),_=W[0],z=W[1],O=W[2],L=W[3],j=W[4];if(N===O&&O===L)E.push(_),E.push(z),Z.push(2),Z.push(2);else if(N>=O&&N<=L){var B=_*N+z;E.push(B),Z.push(j)}}var A=E;if(E.length>2){var F=2===Z[0]?0:Z[0],I=E[0];A=[];for(var Y=1;Y<Z.length;Y++)2===Z[Y]&&Y!==Z.length-1||(Z[Y]!==F&&(A.push(0===F?Math.min(I,E[Y-1]):Math.max(I,E[Y-1])),F=Z[Y],I=E[Y]),Y===Z.length-1&&A.push(0===Z[Y]?Math.min(I,E[Y]):Math.max(I,E[Y])));A.sort((function(e,n){return e-n}))}else E[0]>E[1]&&(A=[E[1],E[0]]);C.push(A)}for(var V=0,q=0;V<i;V++)for(var J=f+a*V,D=0;D<t;D++,q++){var X=c-o*D,K=C[D];if(2===K.length)J>=K[0]&&J<=K[1]&&(r.push([J,X]),p[q]=1);else if(K.length>2){for(var U=!1,H=0;H<K.length;H+=2)if(J>=K[H]&&J<=K[H+1]){U=!0;break}U&&(r.push([J,X]),p[q]=1)}}return{points:r,mask:p}}function z(e){var n=B(e[0].spatialReference);if(e.length<2||(0,l.Wi)(n))return e[0];for(var r=e[0],i=r.xmin,t=r.xmax,a=r.ymin,o=r.ymax,s=1;s<e.length;s++){var u=e[s];t=u.xmax+n*s,a=Math.min(a,u.ymin),o=Math.max(o,u.ymax)}return new p.Z({xmin:i,xmax:t,ymin:a,ymax:o,spatialReference:e[0].spatialReference})}function O(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e.spatialReference;if(a.equals(n))return e;var o=I(e),s=B(a,!0),u=B(n);if(0===o||(0,l.Wi)(s)||(0,l.Wi)(u)){var f=j(e,n,r,t);if((0,l.Wi)(s)&&(0,l.pC)(u)&&Math.abs(f.width-u)<G(n)&&(0,x.kR)()){var c=T(a);if((0,l.pC)(c)&&c.poleLocation===i.None&&e.width<(c.bbox[2]-c.bbox[0])/2)return L(e,n)||f}return f}var h=e.clone().normalize();if(1===h.length&&e.xmax<s&&e.xmax-s/2>G(a))for(var v=e.xmin,m=e.xmax,g=0;g<=o;g++){var d=0===g?v:-s/2,y=g===o?m-s*g:s/2;h[g]=new p.Z({xmin:d,xmax:y,ymin:e.ymin,ymax:e.ymax,spatialReference:a})}return z(h.map((function(e){return j(e,n,r,t)})).filter((function(e){return!!e})))}function L(e,n){var r=B(n);if((0,l.Wi)(r))return null;var i=e.xmin,t=e.ymin,a=e.xmax,o=e.ymax,s=e.spatialReference,u=new m.Z({spatialReference:s,rings:[[[i,t],[a,t],[a,o],[i,o],[i,t]]]}),f=(0,x.iV)(u,n);if(2!==f.rings.length||!f.rings[0].length||!f.rings[1].length)return null;for(var c=f.rings,h=G(s),v=new p.Z({spatialReference:n}),g=0;g<2;g++){i=a=c[g][0][0],t=o=c[g][0][1];for(var d=0;d<c[g].length;d++)i=i>c[g][d][0]?c[g][d][0]:i,a=a<c[g][d][0]?c[g][d][0]:a,t=t>c[g][d][1]?c[g][d][1]:t,o=o<c[g][d][1]?c[g][d][1]:o;if(0===g)v.ymin=t,v.ymax=o,v.xmin=i,v.xmax=a;else if(v.ymin=Math.min(v.ymin,t),v.ymax=Math.max(v.ymax,o),Math.abs(a-r/2)<h)v.xmin=i,v.xmax=v.xmax+r;else{if(!(Math.abs(i+r/2)<h))return null;v.xmax=a+r}}return v}function j(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=e.spatialReference;if(a.equals(n))return e;y(a,n,r);var o=(0,x.iV)(e,n,r);if(t&&n.isWebMercator&&o&&(o.ymax=Math.min(20037508.342787,o.ymax),o.ymin=Math.max(-20037508.342787,o.ymin),o.ymin>=o.ymax))return null;if(!i||!o)return o;var s=A(a,!0),u=A(n,!0);if((0,l.Wi)(s)||(0,l.Wi)(u))return o;var f=G(a,.001),c=G(a,500),h=G(n,.001);if(Math.abs(o.xmin-u[0])<h&&Math.abs(o.xmax-u[1])<h){var p=Math.abs(e.xmin-s[0]),m=Math.abs(s[1]-e.xmax);if(p<f&&m>c){o.xmin=u[0];var g=[];g.push(new v.Z(e.xmax,e.ymin,a)),g.push(new v.Z(e.xmax,(e.ymin+e.ymax)/2,a)),g.push(new v.Z(e.xmax,e.ymax,a));var d=g.map((function(e){return N(e,n,r)})).filter((function(e){return!isNaN(null===e||void 0===e?void 0:e.x)})).map((function(e){return e.x}));o.xmax=Math.max.apply(null,d)}if(m<f&&p>c){o.xmax=u[1];var w=[];w.push(new v.Z(e.xmin,e.ymin,a)),w.push(new v.Z(e.xmin,(e.ymin+e.ymax)/2,a)),w.push(new v.Z(e.xmin,e.ymax,a));var M=w.map((function(e){return N(e,n,r)})).filter((function(e){return!isNaN(null===e||void 0===e?void 0:e.x)})).map((function(e){return e.x}));o.xmin=Math.min.apply(null,M)}}else{var R=G(n,.001);Math.abs(o.xmin-u[0])<R&&(o.xmin=u[0]),Math.abs(o.xmax-u[1])<R&&(o.xmax=u[1])}return o}function B(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*r:e.wkid&&e.isGeographic?360:2*M[e.wkid]||null}function A(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGeographic)return[-180,180];var r=B(e,n);return(0,l.pC)(r)?[-r/2,r/2]:null}function F(e,n,r,i){var t=(e-n)/r;return t-Math.floor(t)!=0?t=Math.floor(t):i&&(t-=1),t}function I(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=B(e.spatialReference);if((0,l.Wi)(r))return 0;var i=n?0:-r/2,t=G(e.spatialReference),a=!n&&Math.abs(e.xmax-r/2)<t?r/2:e.xmax,o=!n&&Math.abs(e.xmin+r/2)<t?-r/2:e.xmin;return F(a,i,r,!0)-F(o,i,r,!1)}function Y(e){var n=e.storageInfo.origin.x,r=B(e.spatialReference,!0);if((0,l.Wi)(r))return{originX:n,halfWorldWidth:null,pyramidsInfo:null};for(var i=r/2,t=e.nativePixelSize,a=e.storageInfo,o=e.extent,s=a.maximumPyramidLevel,u=a.blockWidth,f=a.pyramidScalingFactor,c=t.x,h=[],x=(0,l.pC)(e.transform)&&"gcs-shift"===e.transform.type,p=n+(x?0:i),v=x?r-n:i-n,m=0;m<=s;m++){var g=(o.xmax-n)/c/u,d=g-Math.floor(g)==0?g:Math.ceil(g),y=v/c/u,w=y-Math.floor(y)==0?y:Math.ceil(y),M=Math.floor(p/c/u),R=Math.round(p/c)%u,b=(u-Math.round(v/c)%u)%u;h.push({resolutionX:c,blockWidth:u,datsetColumnCount:d,worldColumnCountFromOrigin:w,leftMargin:R,rightPadding:b,originColumnOffset:M}),c*=f}return{originX:n,halfWorldWidth:i,pyramidsInfo:h,hasGCSSShiftTransform:x}}function V(e){var n=e.isAdaptive&&null==e.spacing,r=e.spacing||[32,32],i=q(e),t={cols:i.size[0]+1,rows:i.size[1]+1},a=i.outofBoundPointCount>0&&i.outofBoundPointCount<i.offsets.length/2,s=i.outofBoundPointCount===i.offsets.length/2||n&&a?[0,0]:w(i.offsets,t,r,4),u=(s[0]+s[1])/2,f=e.projectedExtent.spatialReference,c=e.srcBufferExtent.spatialReference;if(n&&(a||u>4)&&(d(f,c,e.datumTransformation)&&(f.isGeographic||(0,l.pC)(T(f))),r=[4,4],t={cols:(i=q((0,o.Z)((0,o.Z)({},e),{},{spacing:r}))).size[0]+1,rows:i.size[1]+1},s=w(i.offsets,t,r,4)),i.error=s,r[0]>1&&(i.coefficients=J(i.offsets,t,a)),e.includeGCSGrid&&!f.isGeographic&&!f.isWebMercator)if(c.isGeographic)i.gcsGrid={offsets:i.offsets,coefficients:i.coefficients,spacing:r};else{var x=T(f);if((0,l.pC)(x)&&!x.isEnvelope){var p=function(e){if(!e||e.isGeographic)return e;var n,r=String(e.wkid||e.wkt);return b.has(r)?n=b.get(r):(n=(e.wkid?h.e.coordsys(e.wkid):h.e.fromString(h.f.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),b.set(r,n)),new g.Z({wkid:n})}(f),v=O(e.projectedExtent,p),m=q((0,o.Z)((0,o.Z)({},e),{},{srcBufferExtent:v,spacing:r})).offsets,y=J(m,t,a);i.gcsGrid={offsets:m,coefficients:y,spacing:r}}}return i}function q(e){var n,r=e.projectedExtent,i=e.srcBufferExtent,t=e.pixelSize,a=e.datumTransformation,o=e.rasterTransform,s=r.spatialReference,u=i.spatialReference,f=y(s,u),c=r.xmin,h=r.ymin,x=r.xmax,p=r.ymax,m=B(u),g=(0,l.pC)(m)&&(e.hasWrapAround||"gcs-shift"===(null===o||void 0===o?void 0:o.type)),d=e.spacing||[32,32],w=d[0]*t.x,M=d[1]*t.y,R=1===d[0],b=Math.ceil((x-c)/w-.1/d[0])+(R?0:1),P=Math.ceil((p-h)/M-.1/d[1])+(R?0:1),S=E({cols:b,rows:P,xmin:c,ymax:p,xres:w,yres:M,inSR:s,outSR:u,datumTransformation:a,preferPE:d[0]<=4,usePixelCenter:R}),k=[],C=0,N=R?-1:NaN,Z=i.xmin,W=i.xmax,_=i.ymax,z=i.width,O=i.height,L=G(u,500),j=(0,l.pC)(m)&&Z>0&&W>m/2,A=!1;if(f){var F=T(s);A=(0,l.pC)(F)&&F.poleLocation>0}for(var I=0;I<b;I++){for(var Y=[],V=0;V<P;V++){var q=S[I*P+V];if(g&&q[0]>W&&q[0]>m/2-L?q[0]-=m:g&&0===I&&q[0]<0&&j&&!o&&(q[0]+=m),!q||isNaN(q[0])||isNaN(q[1]))k.push(N),k.push(N),Y.push(null),C++;else{if(o){var J=o.inverseTransform(new v.Z({x:q[0],y:q[1],spatialReference:u}));q=[J.x,J.y]}Y.push(q),I>0&&g&&n[V]&&q[0]<n[V][0]&&(q[0]+=m,A&&q[0]>W&&q[0]>m&&(q[0]-=m)),k.push((q[0]-Z)/z),k.push((_-q[1])/O)}}n=Y}return{offsets:k,error:null,coefficients:null,outofBoundPointCount:C,spacing:d,size:R?[b,P]:[b-1,P-1]}}function J(e,n,r){for(var i=n.cols,t=n.rows,a=new Float32Array((i-1)*(t-1)*2*6),o=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),s=new Float32Array([-1,1,0,0,-1,1,1,0,0]),u=0;u<i-1;u++){for(var f=0;f<t-1;f++){for(var l=u*t*2+2*f,c=e[l],h=e[l+1],x=e[l+2],p=e[l+3],v=e[l+=2*t],m=e[l+1],g=e[l+2],d=e[l+3],y=0,w=12*(f*(i-1)+u),M=0;M<3;M++)a[w++]=o[y++]*c+o[y++]*x+o[y++]*g;y=0;for(var R=0;R<3;R++)a[w++]=o[y++]*h+o[y++]*p+o[y++]*d;y=0;for(var b=0;b<3;b++)a[w++]=s[y++]*c+s[y++]*v+s[y++]*g;y=0;for(var P=0;P<3;P++)a[w++]=s[y++]*h+s[y++]*m+s[y++]*d}if(r)for(var S=0;S<a.length;S++)isNaN(a[S])&&(a[S]=-1)}return a}function D(e){var n=e.clone().normalize();return 1===n.length?n[0]:z(n)}function X(e,n,r){var i,t=n.storageInfo,a=n.pixelSize,o=!1,s=t.pyramidResolutions;if((0,l.pC)(s)&&s.length){var u=(e.x+e.y)/2,f=s[s.length-1],h=(f.x+f.y)/2,x=(a.x+a.y)/2;if(u<=x)i=0;else if(u>=h)i=s.length,o=u/h>8;else for(var p,m=x,g=1;g<=s.length;g++){if(u<=(p=(s[g-1].x+s[g-1].y)/2)){u===p?i=g:"down"===r?(i=g-1,o=u/m>8):i="up"===r||u-m>p-u||u/m>2?g:g-1;break}m=p}var d=0===i?a:s[i-1];return o&&Math.min(d.x,d.y)*(0,c.c9)(n.spatialReference)>19567&&(o=!1),{pyramidLevel:i,pyramidResolution:new v.Z({x:d.x,y:d.y,spatialReference:n.spatialReference}),excessiveReading:o}}var y=Math.log(e.x/a.x)/Math.LN2,w=Math.log(e.y/a.y)/Math.LN2,M=n.storageInfo.maximumPyramidLevel||0;(i="down"===r?Math.floor(Math.min(y,w)):"up"===r?Math.ceil(Math.max(y,w)):Math.round((y+w)/2))<0?i=0:i>M&&(o=i>M+3,i=M);var R=Math.pow(2,i);return{pyramidLevel:i,pyramidResolution:new v.Z({x:R*n.nativePixelSize.x,y:R*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:o}}function K(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=e.extent,a=e.spatialReference,o=e.pixelSize,s=C(new v.Z({x:o.x,y:o.y,spatialReference:a}),n,t);if(null==s)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};var u=(s.x+s.y)/2,f=(0,c.c9)(n),l=u*f*96*39.37,h=n.isGeographic?256/r*295828763.7958547:256/r*591657527.591555,x="vector-magdir"===e.dataType||"vector-uv"===e.dataType,p=O(t,n);x||i&&(n.isGeographic||n.isWebMercator)&&(x=p.xmin*p.xmax<0);var m,g=l,d=1.001;if(x){g=h;var y=n.isGeographic?1341104507446289e-21:.29858214164761665,w=y*(96*f*39.37),M=n.isGeographic?4326:3857;(m=C(new v.Z({x:y,y:y,spatialReference:{wkid:M}}),a,p)).x*=g/w,m.y*=g/w}else{m={x:o.x,y:o.y};for(var R=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),b=0;g<h*(d/2)&&b<R;)b++,g*=2,m.x*=2,m.y*=2;Math.max(g,h)/Math.min(g,h)<=d&&(g=h)}for(var P=[g],S=[{x:m.x,y:m.y}],k=70.5310735,G=Math.min(k,l)/d;g>=G;)g/=2,m.x/=2,m.y/=2,P.push(g),S.push({x:m.x,y:m.y});return{projectedPixelSize:s,scales:P,srcResolutions:S,isCustomTilingScheme:!x}}}}]);
//# sourceMappingURL=394.9b18e5ea.chunk.js.map