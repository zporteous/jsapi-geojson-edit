{"version":3,"file":"static/js/4000.7507984b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js","../node_modules/@arcgis/core/layers/graphics/contains.js","../node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js","../node_modules/@arcgis/core/geometry/support/intersects.js","../node_modules/@arcgis/core/layers/graphics/data/timeSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PositionHint as e,indexOf as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{clone as s}from\"../../../core/lang.js\";import{removeMaybe as r,destroyMaybe as a,isNone as n,isSome as o}from\"../../../core/maybe.js\";import{MemCacheStorage as u,MemCache as c}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{create as l,set as m,NEGATIVE_INFINITY as p,expandWithAABB as f}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as d,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as g}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as w}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as S}from\"../../../geometry/support/normalizeUtils.js\";import{equals as F,isValid as R}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as Q}from\"../featureConversionUtils.js\";import{getWhereClause as I,validateFields as j,validateWhere as E,validateHaving as b,hasInvalidFieldType as A}from\"./attributeSupport.js\";import{project as T,checkProjectionSupport as k,projectMany as C}from\"./projectionSupport.js\";import{queryCapabilities as B}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as q,SnappingTypes as v}from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as z,canQueryWithRBush as O,checkSpatialQuerySupport as G}from\"./spatialQuerySupport.js\";import{getTimeExtent as M,getTimeOperator as P}from\"./timeSupport.js\";import{cleanFromGeometryEngine as U,QUERY_ENGINE_EMPTY_RESULT as Z,normalizeQuery as N,getGeometry as D}from\"./utils.js\";import H from\"../../support/FieldsIndex.js\";import{loadArcade as L}from\"../../../support/arcadeOnDemand.js\";import{noBudget as J}from\"../../../views/support/Scheduler.js\";function V(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const W=\"feature-store:unsupported-query\";class ${constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const K=new u(2e6);let X=0;class Y{constructor(e){this.capabilities={query:B},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new c(X+++\"$$\",K)),this.fieldsIndex=new H(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=r(this._frameTask),this.clearCache(),a(this._geometryQueryCache),this._changeHandle=r(this._changeHandle),a(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return n(e)?null:{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:U(this.spatialReference)}}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=M(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache?.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e,t){try{return(await this._executeQuery(e,{},t)).createQueryResponse()}catch(i){if(i!==Z)throw i;return new q([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},t)).createQueryResponseForCount()}catch(i){if(i!==Z)throw i;return 0}}async executeQueryForExtent(e,t){const i=e.outSR;try{const s=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),r=s.size;if(!r)return{count:0,extent:null};m(te,p),this.featureStore.forEachBounds(s.items,(e=>f(te,e)),ee);const a={xmin:te[0],ymin:te[1],xmax:te[3],ymax:te[4],spatialReference:U(this.spatialReference)};this.hasZ&&isFinite(te[2])&&isFinite(te[5])&&(a.zmin=te[2],a.zmax=te[5]);const n=T(a,s.spatialReference,i);if(n.spatialReference=U(i||this.spatialReference),n.xmax-n.xmin==0){const e=h(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=h(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=h(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:r,extent:n}}catch(s){if(s===Z)return{count:0,extent:null};throw s}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){try{const i=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),s=i.items,r=new Set;return await this._reschedule((()=>{for(const e of s)r.add(i.featureAdapter.getObjectId(e))}),t),r}catch(i){if(i===Z)return new Set;throw i}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:r}=e;if(r===v.NONE)return{candidates:[]};const a=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),o=!F(i.spatialReference,this.spatialReference);o&&await k(i.spatialReference,this.spatialReference);const u=\"number\"==typeof s?s:s.x,c=\"number\"==typeof s?s:s.y,h={xmin:i.x-u,xmax:i.x+u,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=o?T(h,this.spatialReference):h;if(!l)return{candidates:[]};const m=(await S(x(i),null,{signal:t}))[0],p=(await S(x(l),null,{signal:t}))[0];if(n(m)||n(p))return{candidates:[]};const f=new q(this._searchFeatures(this._getQueryBBoxes(p.toJSON())),a,this);await this._reschedule((()=>this._executeObjectIdsQuery(f)),t),await this._reschedule((()=>this._executeTimeQuery(f)),t),await this._reschedule((()=>this._executeAttributesQuery(f)),t);const d=m.toJSON(),y=o?T(d,this.spatialReference):d,g=o?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return f.createSnappingResponse({...e,point:y,distance:g},i.spatialReference)}async executeQueryForLatestObservations(e,t){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new i(W,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const i=await this._executeQuery(e,{},t);return await this._reschedule((()=>this._filterLatest(i)),t),i.createQueryResponse()}catch(s){if(s!==Z)throw s;return new q([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(t)}async _schedule(e,t){return o(this._frameTask)?this._frameTask.schedule(e,t):e(J)}async _reschedule(e,t){return o(this._frameTask)?this._frameTask.reschedule(e,t):e(J)}_getAll(e){return n(this._allItems)&&(this._allItems=this.featureStore.toArray()),new q(this._allItems,e,this)}async _executeQuery(e,t,i){e=s(e),e=await this._schedule((()=>N(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkQuerySupport(e)),i),e={...e,...t};const r=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),a=await this._reschedule((()=>this._executeGeometryQuery(e,r,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(a)),i),await this._reschedule((()=>this._executeObjectIdsQuery(a)),i),await this._reschedule((()=>this._executeTimeQuery(a)),i),await this._reschedule((()=>this._executeAttributesQuery(a)),i),a}async _executeSceneFilterQuery(e,t){if(n(e.sceneFilter))return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,o=e.sceneFilter.geometry,u=n(a)||F(a,o.spatialReference)?o:T(o,a);if(!u)return null;const c=s||r,h=R(i)&&!F(this.spatialReference,i)&&c?async e=>this._project(e,i):e=>e,l=this.featureAdapter,m=this._searchFeatures(this._getQueryBBoxes(u));if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!m.length)return null;const i=new Set;for(const e of m)i.add(l.getObjectId(e));const s=await this._reschedule((()=>this.featureStore.toArray()),t),r=await this._reschedule((async()=>{const r=await z(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(l.getObjectId(e))||r(l.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new q(n,e,this)}),t);return h(r)}if(!m.length)return new q([],e,this);if(this._canExecuteSinglePass(u,e))return h(new q(m,e,this));const p=await z(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),f=await this._runSpatialFilter(m,(e=>p(l.getGeometry(e))),t);return h(new q(f,e,this))}async _executeGeometryQuery(i,s,r){if(o(s)&&0===s.items.length)return s;i=o(s)?s.query:i;const{geometry:a,outSR:u,spatialRel:c,returnGeometry:h,returnCentroid:l}=i,m=this.featureStore.featureSpatialReference,p=!a||n(m)||F(m,a.spatialReference)?a:T(a,m),f=h||l,d=R(u)&&!F(this.spatialReference,u),y=this._geometryQueryCache&&n(s)?d&&f?JSON.stringify({originalFilterGeometry:a,spatialRelationship:c,outSpatialReference:u}):JSON.stringify({originalFilterGeometry:a,spatialRelationship:c}):null,g=y?this._geometryQueryCache.get(y):null;if(o(g))return new q(g,i,this);const x=async e=>(d&&f&&await this._project(e,u),y&&this._geometryQueryCache.put(y,e.items,e.items.length+1),e);if(!p)return x(o(s)?s:this._getAll(i));const _=this.featureAdapter;let w=this._searchFeatures(this._getQueryBBoxes(a));if(\"esriSpatialRelDisjoint\"===c){if(!w.length)return x(o(s)?s:this._getAll(i));const e=new Set;for(const i of w)e.add(_.getObjectId(i));const t=o(s)?s.items:await this._reschedule((()=>this.featureStore.toArray()),r),a=await this._reschedule((async()=>{const s=await z(c,p,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(_.getObjectId(t))||s(_.getGeometry(t)),n=await this._runSpatialFilter(t,a,r);return new q(n,i,this)}),r);return x(a)}if(o(s)){const i=new e;w=w.filter((e=>t(s.items,e,s.items.length,i)>=0))}if(!w.length){const e=new q([],i,this);return y&&this._geometryQueryCache.put(y,e.items,1),e}if(this._canExecuteSinglePass(p,i))return x(new q(w,i,this));const S=await z(c,p,this.geometryType,this.hasZ,this.hasM),Q=await this._runSpatialFilter(w,(e=>S(_.getGeometry(e))),r);return x(new q(Q,i,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds||!e.query.aggregateIds.length||n(this.aggregateAdapter))return;const t=new Set;for(const s of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(s).forEach((e=>t.add(e)))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds||!e.query.objectIds.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeTimeQuery(e){if(0===e.items.length)return;const t=P(this.timeInfo,e.query.timeExtent,this.featureAdapter);n(t)||(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=I(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(n(this._frameTask))return e.filter((e=>t(e)));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const o=e[s++];t(o)&&(r.push(o),n.madeProgress()),n.done&&await this._reschedule((e=>a(e)),i)}};return this._reschedule((e=>a(e)),i).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const o of e.items){const e=n(o,t),i=n(o,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,o)}e.items=Array.from(a.values())}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return O(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i||\"esriSpatialRelWithin\"===i))}async _project(e,t){if(!t||F(this.spatialReference,t))return e;const i=this.featureAdapter,s=await C(e.items.map((e=>D(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t);return e.items=s.map(((t,s)=>i.cloneWithGeometry(e.items[s],Q(t,this.hasZ,this.hasM)))),e}_getQueryBBoxes(e){if(O(e)){if(_(e))return[d(e.xmin,e.ymin,e.xmax,e.ymax)];if(w(e))return e.rings.map((e=>d(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[g(y(),e)]}_searchFeatures(e){for(const i of e)this.featureStore.forEachInBounds(i,(e=>ie.add(e)));const t=Array.from(ie.values());return ie.clear(),t}async _checkStatisticsSupport(e,t){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text||e.outStatistics||e.groupByFieldsForStatistics||e.having||e.orderByFields)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),Promise.all([this._checkStatisticsParamsSupport(t),G(e,this.geometryType,this.spatialReference),k(this.spatialReference,e.outSR)]).then((()=>e))}async _checkStatisticsParamsSupport(e){let t=[];if(e.valueExpression){const{arcadeUtils:i}=await L();t=i.extractFieldNames(e.valueExpression)}if(e.field&&t.push(e.field),e.normalizationField&&t.push(e.normalizationField),!t.length)throw new i(W,\"params should have at least a field or valueExpression\",{params:e});j(this.fieldsIndex,t,\"params contains missing fields\")}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Promise.all([G(e,this.geometryType,this.spatialReference),k(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:s,returnDistinctValues:r,outStatistics:a}=e,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(t)?s.split(t)[0]:i})).filter((e=>!n.includes(e)));j(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(t&&t.length>0)j(this.fieldsIndex,t,\"outFields contains missing fields\");else if(r)throw new i(W,\"outFields should be specified for returnDistinctValues\",{query:e});E(this.fieldsIndex,e.where)}_checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:s,having:r}=e,a=s&&s.length,n=t&&t.length;if(r){if(!a||!n)throw new i(W,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});b(this.fieldsIndex,r,t)}if(n){if(!V(t))return;const r=t.map((e=>e.onStatisticField)).filter(Boolean);j(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&j(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of t){const{onStatisticField:t,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:t}=s;if(!t)throw new i(W,\"statisticParamters should be set for percentile type\",{definition:s,query:e})}else if(\"count\"!==r&&t&&A(t,this.fieldsIndex))throw new i(W,\"outStatistics contains non-numeric fields\",{definition:s,query:e})}}}async _getQueryEngineResultForStats(e,t,i){e=s(e);try{e=await this._schedule((()=>N(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkStatisticsSupport(e,t)),i);const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),r=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(r)),i),await this._reschedule((()=>this._executeObjectIdsQuery(r)),i),await this._reschedule((()=>this._executeTimeQuery(r)),i),await this._reschedule((()=>this._executeAttributesQuery(r)),i),r}catch(r){if(r!==Z)throw r;return new q([],e,this)}}}const ee=l(),te=l(),ie=new Set;export{$ as Feature,Y as QueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}export{o as polygonContainsCoords,r as polygonContainsMultipoint,t as polygonContainsPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{extentContainsPoint as r,extentContainsMultipoint as t}from\"../../../geometry/support/contains.js\";import{getExtentIntersector as i}from\"../../../geometry/support/intersects.js\";import{isPolygon as s,isExtent as o,getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{isValid as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{polygonContainsPoint as a,polygonContainsMultipoint as p}from\"../contains.js\";import{convertFromPolygon as m}from\"../featureConversionUtils.js\";import u from\"../OptimizedGeometry.js\";import{checkProjectionSupport as y}from\"./projectionSupport.js\";import{getGeometry as f}from\"./utils.js\";const c=\"feature-store:unsupported-query\",R={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function G(e){return!0===S.spatialRelationship[e]}function g(e){return!0===S.queryGeometry[n(e)]}function j(e){return!0===S.layerGeometry[e]}function h(){return import(\"../../../geometry/geometryEngineJSON.js\")}function v(e,n,l,y,c){if(s(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=m(new u,n,!1,!1);return Promise.resolve((r=>a(e,!1,!1,r)))}if(s(n)&&\"esriGeometryMultipoint\"===l){const r=m(new u,n,!1,!1);if(\"esriSpatialRelContains\"===e)return Promise.resolve((e=>p(r,!1,!1,e,y,c)))}if(o(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Promise.resolve((e=>r(n,f(l,y,c,e))));if(o(n)&&\"esriGeometryMultipoint\"===l&&\"esriSpatialRelContains\"===e)return Promise.resolve((e=>t(n,f(l,y,c,e))));if(o(n)&&\"esriSpatialRelIntersects\"===e){const e=i(l);return Promise.resolve((r=>e(n,f(l,y,c,r))))}return h().then((r=>{const t=r[R[e]].bind(null,n.spatialReference,n);return e=>t(f(l,y,c,e))}))}async function P(r,t,i){const{spatialRel:s,geometry:o}=r;if(o){if(!G(s))throw new e(c,\"Unsupported query spatial relationship\",{query:r});if(l(o.spatialReference)&&l(i)){if(!g(o))throw new e(c,\"Unsupported query geometry type\",{query:r});if(!j(t))throw new e(c,\"Unsupported layer geometry type\",{query:r});if(r.outSR)return y(r.geometry&&r.geometry.spatialReference,r.outSR)}}}function I(e){if(o(e))return!0;if(s(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}export{I as canQueryWithRBush,P as checkSpatialQuerySupport,v as getSpatialQueryOperator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{extentIntersectsExtent as e,getFeatureExtentIntersector as t}from\"./intersectsBase.js\";export{extentIntersectsExtent,extentIntersectsMultipoint,extentIntersectsPoint,extentIntersectsPolygon,extentIntersectsPolyline,extentIntersectsRings,getFeatureExtentIntersector,isSelfIntersecting,segmentIntersects}from\"./intersectsBase.js\";function n(n){return\"mesh\"===n?e:t(n)}export{n as getExtentIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction t(t,n){if(!t)return null;const e=n.featureAdapter,{startTimeField:u,endTimeField:l}=t;let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(u&&l)n.forEach((t=>{const n=e.getAttribute(t,u),o=e.getAttribute(t,l);null==n||isNaN(n)||(r=Math.min(r,n)),null==o||isNaN(o)||(i=Math.max(i,o))}));else{const t=u||l;n.forEach((n=>{const u=e.getAttribute(n,t);null==u||isNaN(u)||(r=Math.min(r,u),i=Math.max(i,u))}))}return{start:r,end:i}}function n(t,n,r){if(!n||!t)return null;const{startTimeField:i,endTimeField:o}=t;if(!i&&!o)return null;const{start:s,end:a}=n;return null===s&&null===a?null:void 0===s&&void 0===a?l():i&&o?e(r,i,o,s,a):u(r,i||o,s,a)}function e(t,n,e,u,l){return null!=u&&null!=l?r=>{const i=t.getAttribute(r,n),o=t.getAttribute(r,e);return(null==i||i<=l)&&(null==o||o>=u)}:null!=u?n=>{const l=t.getAttribute(n,e);return null==l||l>=u}:null!=l?e=>{const u=t.getAttribute(e,n);return null==u||u<=l}:void 0}function u(t,n,e,u){return null!=e&&null!=u&&e===u?u=>t.getAttribute(u,n)===e:null!=e&&null!=u?l=>{const r=t.getAttribute(l,n);return r>=e&&r<=u}:null!=e?u=>t.getAttribute(u,n)>=e:null!=u?e=>t.getAttribute(e,n)<=u:void 0}function l(){return()=>!1}export{t as getTimeExtent,n as getTimeOperator};\n"],"names":["W","K","u","X","Y","e","this","capabilities","query","B","geometryType","hasM","hasZ","objectIdField","spatialReference","definitionExpression","featureStore","aggregateAdapter","_changeHandle","events","on","clearCache","timeInfo","cacheSpatialQueries","_geometryQueryCache","c","fieldsIndex","H","fields","scheduler","priority","_frameTask","registerTask","r","a","featureAdapter","fullBounds","n","xmin","ymin","xmax","ymax","U","_timeExtent","M","clear","_allItems","t","_executeQuery","createQueryResponse","Z","q","returnGeometry","returnCentroid","outSR","createQueryResponseForCount","i","s","size","count","extent","m","te","p","forEachBounds","items","f","ee","isFinite","zmin","zmax","T","h","executeQueryForIdSet","then","Array","from","Set","_reschedule","add","getObjectId","point","distance","types","v","candidates","_checkQuerySupport","o","F","k","x","y","l","S","signal","_searchFeatures","_getQueryBBoxes","toJSON","_executeObjectIdsQuery","_executeTimeQuery","_executeAttributesQuery","d","g","Math","max","createSnappingResponse","trackIdField","_filterLatest","field","normalizationField","valueExpression","_getQueryEngineResultForStats","createSummaryStatisticsResponse","createUniqueValuesResponse","createClassBreaksResponse","createHistogramResponse","schedule","J","reschedule","toArray","_schedule","N","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","sceneFilter","featureSpatialReference","geometry","R","_project","spatialRelationship","length","z","has","getGeometry","_runSpatialFilter","_canExecuteSinglePass","spatialRel","JSON","stringify","originalFilterGeometry","outSpatialReference","get","put","_getAll","_","w","filter","Q","aggregateIds","getFeatureObjectIds","forEach","objectIds","P","timeExtent","I","where","isStandardized","TypeError","testFeature","push","madeProgress","done","startTimeField","endTimeField","Map","getAttribute","set","values","O","C","map","D","cloneWithGeometry","rings","min","forEachInBounds","ie","geometryPrecision","multipatchOption","pixelSize","relationParam","text","outStatistics","groupByFieldsForStatistics","having","orderByFields","_checkAttributesQuerySupport","Promise","all","_checkStatisticsParamsSupport","G","L","arcadeUtils","extractFieldNames","params","j","_checkStatisticsQuerySupport","outFields","returnDistinctValues","outStatisticFieldName","toLowerCase","Boolean","includes","split","E","b","every","statisticType","V","onStatisticField","A","definition","statisticParameters","_checkStatisticsSupport","coords","lengths","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","resolve","bind","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNaN","start","end"],"sourceRoot":""}