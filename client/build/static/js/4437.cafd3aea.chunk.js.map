{"version":3,"file":"static/js/4437.cafd3aea.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/components/array.js","../node_modules/@esri/calcite-components/dist/components/action-menu.js","../node_modules/@esri/calcite-components/dist/components/conditionalSlot.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.82\n */\nfunction getRoundRobinIndex(index, total) {\n  return (index + total) % total;\n}\n\nexport { getRoundRobinIndex as g };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.82\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Fragment } from '@stencil/core/internal/client';\nimport { b as getSlotted, t as toAriaBoolean, f as focusElement } from './dom.js';\nimport { g as getRoundRobinIndex } from './array.js';\nimport { g as guid } from './guid.js';\nimport { c as createObserver } from './observers.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot.js';\nimport { d as defineCustomElement$4 } from './action.js';\nimport { d as defineCustomElement$3 } from './icon.js';\nimport { d as defineCustomElement$2 } from './loader.js';\nimport { d as defineCustomElement$1 } from './popover.js';\n\nconst CSS = {\n  menu: \"menu\",\n  defaultTrigger: \"default-trigger\"\n};\nconst SLOTS = {\n  tooltip: \"tooltip\",\n  trigger: \"trigger\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\n\nconst actionMenuCss = \"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:-ms-flexbox;display:flex;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}.menu{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}\";\n\nconst SUPPORTED_BUTTON_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\"];\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nconst ActionMenu = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calciteActionMenuOpenChange = createEvent(this, \"calciteActionMenuOpenChange\", 7);\n    // --------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * Indicates whether widget is expanded.\n     */\n    this.expanded = false;\n    /**\n     * Opens the action menu.\n     */\n    this.open = false;\n    /** Describes the type of positioning to use for the overlaid content. If your element is in a fixed container, use the 'fixed' value. */\n    this.overlayPositioning = \"absolute\";\n    /**\n     * Determines where the component will be positioned relative to the referenceElement.\n     * @see [PopperPlacement](https://github.com/Esri/calcite-components/blob/master/src/utils/popper.ts#L25)\n     */\n    this.placement = \"auto\";\n    this.actionElements = [];\n    this.mutationObserver = createObserver(\"mutation\", () => this.getActions());\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.menuId = `${this.guid}-menu`;\n    this.menuButtonId = `${this.guid}-menu-button`;\n    this.activeMenuItemIndex = -1;\n    // --------------------------------------------------------------------------\n    //\n    //  Component Methods\n    //\n    // --------------------------------------------------------------------------\n    this.connectMenuButtonEl = () => {\n      const { el, menuButtonId, menuId, open, label } = this;\n      const menuButtonEl = getSlotted(el, SLOTS.trigger) || this.defaultMenuButtonEl;\n      if (this.menuButtonEl === menuButtonEl) {\n        return;\n      }\n      this.disconnectMenuButtonEl();\n      this.menuButtonEl = menuButtonEl;\n      this.setTooltipReferenceElement();\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.active = open;\n      menuButtonEl.setAttribute(\"aria-controls\", menuId);\n      menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n      menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n      if (!menuButtonEl.id) {\n        menuButtonEl.id = menuButtonId;\n      }\n      if (!menuButtonEl.label) {\n        menuButtonEl.label = label;\n      }\n      if (!menuButtonEl.text) {\n        menuButtonEl.text = label;\n      }\n      menuButtonEl.addEventListener(\"click\", this.menuButtonClick);\n      menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n      menuButtonEl.addEventListener(\"keyup\", this.menuButtonKeyUp);\n    };\n    this.disconnectMenuButtonEl = () => {\n      const { menuButtonEl } = this;\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.removeEventListener(\"click\", this.menuButtonClick);\n      menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n      menuButtonEl.removeEventListener(\"keyup\", this.menuButtonKeyUp);\n    };\n    this.setDefaultMenuButtonEl = (el) => {\n      this.defaultMenuButtonEl = el;\n      this.connectMenuButtonEl();\n    };\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.handleCalciteActionClick = () => {\n      this.open = false;\n      this.setFocus();\n    };\n    this.menuButtonClick = () => {\n      this.toggleOpen();\n    };\n    this.updateTooltip = (event) => {\n      const tooltips = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el === null || el === void 0 ? void 0 : el.matches(\"calcite-tooltip\"));\n      this.tooltipEl = tooltips[0];\n      this.setTooltipReferenceElement();\n    };\n    this.setTooltipReferenceElement = () => {\n      const { tooltipEl, expanded, menuButtonEl } = this;\n      if (tooltipEl) {\n        tooltipEl.referenceElement = !expanded ? menuButtonEl : null;\n      }\n    };\n    this.updateAction = (action, index) => {\n      const { guid, activeMenuItemIndex } = this;\n      const id = `${guid}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n      if (!action.id) {\n        action.id = id;\n      }\n      action.active = index === activeMenuItemIndex;\n    };\n    this.updateActions = (actions) => {\n      actions === null || actions === void 0 ? void 0 : actions.forEach(this.updateAction);\n    };\n    this.getActions = () => {\n      const { el } = this;\n      const actionElements = getSlotted(el, { all: true, matches: \"calcite-action\" });\n      this.updateActions(actionElements);\n      this.actionElements = actionElements;\n      this.connectMenuButtonEl();\n    };\n    this.menuButtonKeyUp = (event) => {\n      const { key } = event;\n      const { actionElements } = this;\n      if (!this.isValidKey(key, SUPPORTED_BUTTON_NAV_KEYS)) {\n        return;\n      }\n      event.preventDefault();\n      if (!actionElements.length) {\n        return;\n      }\n      this.toggleOpen(true);\n      this.handleActionNavigation(key, actionElements);\n    };\n    this.menuButtonKeyDown = (event) => {\n      const { key } = event;\n      if (!this.isValidKey(key, SUPPORTED_BUTTON_NAV_KEYS)) {\n        return;\n      }\n      event.preventDefault();\n    };\n    this.menuActionsContainerKeyDown = (event) => {\n      const { key } = event;\n      const { actionElements, activeMenuItemIndex } = this;\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n      if (key === \" \" || key === \"Enter\") {\n        event.preventDefault();\n        const action = actionElements[activeMenuItemIndex];\n        action ? action.click() : this.toggleOpen(false);\n        return;\n      }\n      if (this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n        event.preventDefault();\n      }\n    };\n    this.menuActionsContainerKeyUp = (event) => {\n      const { key } = event;\n      const { actionElements } = this;\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        return;\n      }\n      if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n        return;\n      }\n      event.preventDefault();\n      if (!actionElements.length) {\n        return;\n      }\n      this.handleActionNavigation(key, actionElements);\n    };\n    this.handleActionNavigation = (key, actions) => {\n      const currentIndex = this.activeMenuItemIndex;\n      if (key === \"Home\") {\n        this.activeMenuItemIndex = 0;\n      }\n      if (key === \"End\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n      if (key === \"ArrowUp\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n      }\n      if (key === \"ArrowDown\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n      }\n    };\n    this.toggleOpenEnd = () => {\n      this.setFocus();\n      this.el.removeEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n    };\n    this.toggleOpen = (value = !this.open) => {\n      this.el.addEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n      this.open = value;\n    };\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    var _a;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.el, { childList: true, subtree: true });\n    this.getActions();\n    connectConditionalSlotComponent(this);\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    this.disconnectMenuButtonEl();\n    disconnectConditionalSlotComponent(this);\n  }\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n  openHandler(open) {\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n    this.calciteActionMenuOpenChange.emit(open);\n  }\n  closeCalciteActionMenuOnClick(event) {\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el)) {\n      return;\n    }\n    this.open = false;\n  }\n  activeMenuItemIndexHandler() {\n    this.updateActions(this.actionElements);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    focusElement(this.open ? this.menuEl : this.menuButtonEl);\n  }\n  renderMenuButton() {\n    const { label, scale } = this;\n    const menuButtonSlot = (h(\"slot\", { name: SLOTS.trigger }, h(\"calcite-action\", { class: CSS.defaultTrigger, icon: ICONS.menu, ref: this.setDefaultMenuButtonEl, scale: scale, text: label })));\n    return menuButtonSlot;\n  }\n  renderMenuItems() {\n    const { actionElements, activeMenuItemIndex, open, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = (activeAction === null || activeAction === void 0 ? void 0 : activeAction.id) || null;\n    return (h(\"calcite-popover\", { disablePointer: true, flipPlacements: flipPlacements, label: label, offsetDistance: 0, open: open, overlayPositioning: overlayPositioning, placement: placement, referenceElement: menuButtonEl }, h(\"div\", { \"aria-activedescendant\": activeDescendantId, \"aria-labelledby\": menuButtonEl === null || menuButtonEl === void 0 ? void 0 : menuButtonEl.id, class: CSS.menu, id: menuId, onClick: this.handleCalciteActionClick, onKeyDown: this.menuActionsContainerKeyDown, onKeyUp: this.menuActionsContainerKeyUp, ref: (el) => (this.menuEl = el), role: \"menu\", tabIndex: -1 }, h(\"slot\", null))));\n  }\n  render() {\n    return (h(Fragment, null, this.renderMenuButton(), this.renderMenuItems(), h(\"slot\", { name: SLOTS.tooltip, onSlotchange: this.updateTooltip })));\n  }\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find((k) => k === key);\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"expanded\": [\"expandedHandler\"],\n    \"open\": [\"openHandler\"],\n    \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n  }; }\n  static get style() { return actionMenuCss; }\n}, [1, \"calcite-action-menu\", {\n    \"expanded\": [516],\n    \"flipPlacements\": [16],\n    \"label\": [1],\n    \"open\": [1540],\n    \"overlayPositioning\": [1, \"overlay-positioning\"],\n    \"placement\": [513],\n    \"scale\": [513],\n    \"activeMenuItemIndex\": [32],\n    \"setFocus\": [64]\n  }, [[8, \"click\", \"closeCalciteActionMenuOnClick\"]]]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-action-menu\", \"calcite-action\", \"calcite-icon\", \"calcite-loader\", \"calcite-popover\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-action-menu\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, ActionMenu);\n      }\n      break;\n    case \"calcite-action\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$4();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$3();\n      }\n      break;\n    case \"calcite-loader\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-popover\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { ActionMenu as A, SLOTS as S, defineCustomElement as d };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.82\n */\nimport { forceUpdate } from '@stencil/core/internal/client';\nimport { c as createObserver } from './observers.js';\n\nconst observed = new Set();\nlet mutationObserver;\nconst observerOptions = { childList: true };\n/**\n * Helper to set up a conditional slot component on connectedCallback.\n */\nfunction connectConditionalSlotComponent(component) {\n  if (!mutationObserver) {\n    mutationObserver = createObserver(\"mutation\", processMutations);\n  }\n  mutationObserver.observe(component.el, observerOptions);\n}\n/**\n * Helper to tear down a conditional slot component on disconnectedCallback.\n */\nfunction disconnectConditionalSlotComponent(component) {\n  observed.delete(component.el);\n  // we explicitly process queued mutations and disconnect and reconnect\n  // the observer until MutationObserver gets an `unobserve` method\n  // see https://github.com/whatwg/dom/issues/126\n  processMutations(mutationObserver.takeRecords());\n  mutationObserver.disconnect();\n  for (const [element] of observed.entries()) {\n    mutationObserver.observe(element, observerOptions);\n  }\n}\nfunction processMutations(mutations) {\n  mutations.forEach(({ target }) => {\n    forceUpdate(target);\n  });\n}\n\nexport { connectConditionalSlotComponent as c, disconnectConditionalSlotComponent as d };\n"],"names":["getRoundRobinIndex","index","total","CSS","SLOTS","tooltip","trigger","ICONS","SUPPORTED_BUTTON_NAV_KEYS","SUPPORTED_MENU_NAV_KEYS","ActionMenu","proxyCustomElement","__registerHost","__attachShadow","calciteActionMenuOpenChange","createEvent","expanded","open","overlayPositioning","placement","actionElements","mutationObserver","createObserver","getActions","guid","menuId","menuButtonId","activeMenuItemIndex","connectMenuButtonEl","el","label","menuButtonEl","getSlotted","defaultMenuButtonEl","disconnectMenuButtonEl","setTooltipReferenceElement","active","setAttribute","toAriaBoolean","id","text","addEventListener","menuButtonClick","menuButtonKeyDown","menuButtonKeyUp","removeEventListener","setDefaultMenuButtonEl","handleCalciteActionClick","setFocus","toggleOpen","updateTooltip","event","tooltips","target","assignedElements","flatten","filter","matches","tooltipEl","referenceElement","updateAction","action","tabIndex","updateActions","actions","forEach","all","key","isValidKey","preventDefault","length","handleActionNavigation","menuActionsContainerKeyDown","click","menuActionsContainerKeyUp","currentIndex","Math","max","toggleOpenEnd","value","_a","this","observe","childList","subtree","connectConditionalSlotComponent","disconnect","disconnectConditionalSlotComponent","emit","composedPath","includes","focusElement","menuEl","scale","h","name","class","icon","ref","flipPlacements","activeAction","activeDescendantId","disablePointer","offsetDistance","onClick","onKeyDown","onKeyUp","role","Fragment","renderMenuButton","renderMenuItems","onSlotchange","supportedKeys","find","k","HTMLElement","defineCustomElement","customElements","tagName","get","define","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","defineCustomElement$1","observed","Set","observerOptions","component","processMutations","delete","takeRecords","entries","element","mutations","forceUpdate"],"sourceRoot":""}