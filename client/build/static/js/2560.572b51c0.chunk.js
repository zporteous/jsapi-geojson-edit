"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2560],{52560:function(e,t,i){i.r(t),i.d(t,{default:function(){return je}});var r=i(37762),n=i(15671),o=i(43144),s=i(11752),l=i(61120),a=i(60136),p=i(54062),u=i(27366),y=i(40281),d=i(10064),v=i(32718),b=i(92026),c=i(97642),h=i(66978),f=i(49861),m=(i(63780),i(93169),i(25243)),w=i(38511),_=i(69912),S=i(11186),g=i(71353),Z=i(30651),j=i(27961),C=i(11936),V=i(6061),q=i(29598),x=i(56811),N=i(95731),I=i(25899),R=i(45948),k=i(11582),z=i(46784),D=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.label="",e.normal=null,e.point=null,e}return(0,o.Z)(i)}((0,k.J)(z.wq));(0,u._)([(0,f.Cb)({type:Boolean,json:{default:!0,write:!0}})],D.prototype,"enabled",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],D.prototype,"label",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:!0}})],D.prototype,"normal",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:!0}})],D.prototype,"point",void 0);var T=D=(0,u._)([(0,_.j)("esri.layers.support.VoxelDynamicSection")],D),L=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.label="",e.normal=null,e.point=null,e}return(0,o.Z)(i)}((0,k.J)(z.wq));(0,u._)([(0,f.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"enabled",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],L.prototype,"label",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:!0}})],L.prototype,"normal",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:!0}})],L.prototype,"point",void 0);var P=L=(0,u._)([(0,_.j)("esri.layers.support.VoxelSlice")],L),F=i(53283),A=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.href=null,e.id=null,e.label="",e.normal=null,e.point=null,e.sizeInPixel=null,e.slices=null,e.timeId=0,e.variableId=null,e}return(0,o.Z)(i,[{key:"readHref",value:function(e,t,i){return(0,F.f)(e,i)}}]),i}(z.wq);(0,u._)([(0,f.Cb)({type:Boolean,json:{default:!0,write:!0}})],A.prototype,"enabled",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"href",void 0),(0,u._)([(0,w.r)(["service","web-scene"],"href")],A.prototype,"readHref",null),(0,u._)([(0,f.Cb)({type:m.z8,json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"id",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],A.prototype,"label",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"normal",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"point",void 0),(0,u._)([(0,f.Cb)({type:[m.z8],json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"sizeInPixel",void 0),(0,u._)([(0,f.Cb)({type:[P],json:{write:!0}})],A.prototype,"slices",void 0),(0,u._)([(0,f.Cb)({type:m.z8,json:{default:0,write:!0}})],A.prototype,"timeId",void 0),(0,u._)([(0,f.Cb)({type:m.z8,json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"variableId",void 0);var B=A=(0,u._)([(0,_.j)("esri.layers.support.VoxelSection")],A),M=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).diffuseFactor=.5,e.specularFactor=.5,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],M.prototype,"diffuseFactor",void 0),(0,u._)([(0,f.Cb)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],M.prototype,"specularFactor",void 0);var O=M=(0,u._)([(0,_.j)("esri.layers.support.VoxelSimpleShading")],M),W=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).continuity=null,e.hasNoData=!1,e.noData=0,e.offset=0,e.scale=1,e.type=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:["discrete","continuous"],json:{write:!0}})],W.prototype,"continuity",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"hasNoData",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],W.prototype,"noData",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],W.prototype,"offset",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],W.prototype,"scale",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],W.prototype,"type",void 0);var J=W=(0,u._)([(0,_.j)("esri.layers.support.VoxelFormat")],W),E=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).id=null,e.description="",e.name=null,e.originalFormat=null,e.renderingFormat=null,e.unit="",e.volumeId=0,e.type=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"id",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"name",void 0),(0,u._)([(0,f.Cb)({type:J,json:{write:!0}})],E.prototype,"originalFormat",void 0),(0,u._)([(0,f.Cb)({type:J,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"renderingFormat",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],E.prototype,"unit",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],E.prototype,"volumeId",void 0),(0,u._)([(0,f.Cb)({type:["stc-hot-spot-results","stc-cluster-outlier-results","stc-estimated-bin","generic-nearest-interpolated"],json:{write:!0}})],E.prototype,"type",void 0);var H=E=(0,u._)([(0,_.j)("esri.layers.support.VoxelVariable")],E),U=i(60354),Q=i(51995),Y=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).color=null,e.value=null,e.enabled=!0,e.label=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Q.Z,json:{type:[m.z8],write:{enabled:!0,isRequired:!0}}})],Y.prototype,"color",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Y.prototype,"value",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{default:!0,write:!0}})],Y.prototype,"enabled",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0);var G=Y=(0,u._)([(0,_.j)("esri.layers.support.VoxelIsosurface")],Y),K=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).alpha=0,e.position=0,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],K.prototype,"alpha",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],K.prototype,"position",void 0);var X=K=(0,u._)([(0,_.j)("esri.layers.support.VoxelAlphaStop")],K),$=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).color=null,e.position=0,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Q.Z,json:{type:[m.z8],write:{enabled:!0,isRequired:!0}}})],$.prototype,"color",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],$.prototype,"position",void 0);var ee=$=(0,u._)([(0,_.j)("esri.layers.support.VoxelColorStop")],$),te=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).enabled=!1,e.range=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Boolean,json:{default:!1,write:!0}})],te.prototype,"enabled",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:!0}})],te.prototype,"range",void 0);var ie=te=(0,u._)([(0,_.j)("esri.layers.support.VoxelRangeFilter")],te),re=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e)).interpolation=null,r.stretchRange=null,r.rangeFilter=null,r.colorStops=new y.Z,r.alphaStops=new y.Z,r}return(0,o.Z)(i,[{key:"colorStops",set:function(e){this._set("colorStops",(0,U.Z)(e,this._get("colorStops"),y.Z.ofType(ee)))}},{key:"alphaStops",set:function(e){this._set("alphaStops",(0,U.Z)(e,this._get("alphaStops"),y.Z.ofType(X)))}}]),i}(z.wq);(0,u._)([(0,f.Cb)({type:["linear","nearest"],json:{write:!0}})],re.prototype,"interpolation",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"stretchRange",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(ee),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],re.prototype,"colorStops",null),(0,u._)([(0,f.Cb)({type:y.Z.ofType(X),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.alphaStops&&this.alphaStops.length>0}}}}})],re.prototype,"alphaStops",null),(0,u._)([(0,f.Cb)({type:ie,json:{write:!0}})],re.prototype,"rangeFilter",void 0);var ne=re=(0,u._)([(0,_.j)("esri.layers.support.VoxelTransferFunctionStyle")],re),oe=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).color=null,e.value=0,e.enabled=!0,e.label=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Q.Z,json:{type:[m.z8],write:{enabled:!0,isRequired:!0}}})],oe.prototype,"color",void 0),(0,u._)([(0,f.Cb)({type:m.z8,json:{write:{enabled:!0,isRequired:!0}}})],oe.prototype,"value",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{default:!0,write:!0}})],oe.prototype,"enabled",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],oe.prototype,"label",void 0);var se=oe=(0,u._)([(0,_.j)("esri.layers.support.VoxelUniqueValue")],oe),le=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e)).variableId=0,r.label=null,r.transferFunction=null,r.uniqueValues=new y.Z,r.isosurfaces=new y.Z,r}return(0,o.Z)(i,[{key:"uniqueValues",set:function(e){this._set("uniqueValues",(0,U.Z)(e,this._get("uniqueValues"),y.Z.ofType(se)))}},{key:"isosurfaces",set:function(e){this._set("isosurfaces",(0,U.Z)(e,this._get("isosurfaces"),y.Z.ofType(G)))}}]),i}((0,k.J)(z.wq));(0,u._)([(0,f.Cb)({type:m.z8,json:{write:{enabled:!0,isRequired:!0}}})],le.prototype,"variableId",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],le.prototype,"label",void 0),(0,u._)([(0,f.Cb)({type:ne,json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],le.prototype,"transferFunction",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(se),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],le.prototype,"uniqueValues",null),(0,u._)([(0,f.Cb)({type:y.Z.ofType(G),json:{write:{enabled:!0,overridePolicy:function(){var e=!this.uniqueValues||this.uniqueValues.length<1,t=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:e&&t}}}}})],le.prototype,"isosurfaces",null);var ae=le=(0,u._)([(0,_.j)("esri.layers.support.VoxelVariableStyle")],le),pe=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).values=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:[Number],json:{write:!0}})],pe.prototype,"values",void 0);var ue=pe=(0,u._)([(0,_.j)("esri.layers.support.VoxelIrregularSpacing")],pe),ye=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).scale=1,e.offset=0,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],ye.prototype,"scale",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],ye.prototype,"offset",void 0);var de=ye=(0,u._)([(0,_.j)("esri.layers.support.VoxelRegularSpacing")],ye),ve=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).irregularSpacing=null,e.isPositiveUp=null,e.isWrappedDateLine=null,e.label=null,e.name=null,e.quantity=null,e.regularSpacing=null,e.size=0,e.unit=null,e}return(0,o.Z)(i)}(z.wq);(0,u._)([(0,f.Cb)({type:ue,json:{write:!0}})],ve.prototype,"irregularSpacing",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{write:!0}})],ve.prototype,"isPositiveUp",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{write:!0}})],ve.prototype,"isWrappedDateLine",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],ve.prototype,"label",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],ve.prototype,"name",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],ve.prototype,"quantity",void 0),(0,u._)([(0,f.Cb)({type:de,json:{write:!0}})],ve.prototype,"regularSpacing",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:!0}})],ve.prototype,"size",void 0),(0,u._)([(0,f.Cb)({type:String,json:{write:!0}})],ve.prototype,"unit",void 0);var be=ve=(0,u._)([(0,_.j)("esri.layers.support.VoxelDimension")],ve),ce=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).id=0,e.dimensions=null,e}return(0,o.Z)(i,[{key:"getZDimension",value:function(){if(!this.dimensions)return-1;if(!Array.isArray(this.dimensions))return-1;if(4!==this.dimensions.length)return-1;for(var e=2;e<4;++e)if(this.dimensions[e].size>0)return e;return-1}},{key:"isVolumeValid",value:function(){return!!this.dimensions&&!!Array.isArray(this.dimensions)&&4===this.dimensions.length&&!(this.dimensions[0].size<1||this.dimensions[1].size<1)&&-1!==this.getZDimension()}}]),i}(z.wq);(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],ce.prototype,"id",void 0),(0,u._)([(0,f.Cb)({type:[be],json:{write:{enabled:!0,isRequired:!0}}})],ce.prototype,"dimensions",void 0);var he,fe=ce=(0,u._)([(0,_.j)("esri.layers.support.VoxelVolume")],ce),me=he=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments)).apronWidth=1,e.brickSize=[32,32,32],e.maxLodLevel=0,e.nodeSize=[4,4,4],e}return(0,o.Z)(i,[{key:"isValid",value:function(){var e=new he;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&!!this.brickSize&&!!this.nodeSize&&!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&3===this.brickSize.length&&3===this.nodeSize.length&&32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]}}]),i}(z.wq);(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"apronWidth",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"brickSize",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"maxLodLevel",void 0),(0,u._)([(0,f.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"nodeSize",void 0);var we=me=he=(0,u._)([(0,_.j)("esri.layers.support.VoxelVolumeIndex")],me),_e=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e)).volumeId=0,r.verticalExaggeration=1,r.exaggerationMode="scale-height",r.verticalOffset=0,r.slices=new y.Z,r.dynamicSections=new y.Z,r}return(0,o.Z)(i,[{key:"slices",set:function(e){this._set("slices",(0,U.Z)(e,this._get("slices"),y.Z.ofType(P)))}},{key:"dynamicSections",set:function(e){this._set("dynamicSections",(0,U.Z)(e,this._get("dynamicSections"),y.Z.ofType(T)))}}]),i}((0,k.J)(z.wq));(0,u._)([(0,f.Cb)({type:m.z8,json:{write:{enabled:!0,isRequired:!0}}})],_e.prototype,"volumeId",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{default:1,write:!0}})],_e.prototype,"verticalExaggeration",void 0),(0,u._)([(0,f.Cb)({type:["scale-position","scale-height"],json:{default:"scale-height",write:!0}})],_e.prototype,"exaggerationMode",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{default:0,write:!0}})],_e.prototype,"verticalOffset",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(P),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],_e.prototype,"slices",null),(0,u._)([(0,f.Cb)({type:y.Z.ofType(T),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],_e.prototype,"dynamicSections",null);var Se=_e=(0,u._)([(0,_.j)("esri.layers.support.VoxelVolumeStyle")],_e),ge=v.Z.getLogger(" esri.layers.VoxelLayer"),Ze=function(e){(0,a.Z)(i,e);var t=(0,p.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e)).serviceRoot="",r.popupEnabled=!0,r.operationalLayerType="Voxel",r.legendEnabled=!0,r.title=null,r.sections=new y.Z,r.currentVariableId=0,r.volumeStyles=null,r.renderMode="volume",r.variableStyles=null,r.enableSlices=!0,r.enableSections=!0,r.enableDynamicSections=!0,r.enableIsosurfaces=!0,r.shading=new O,r.opacity=1,r.variables=new y.Z,r.volumes=new y.Z,r.index=null,r.minScale=0,r.maxScale=0,r.type="voxel",r.version={major:Number.NaN,minor:Number.NaN,versionString:""},r.volumeStyles=new y.Z,r.variableStyles=new y.Z,r}return(0,o.Z)(i,[{key:"url",set:function(e){this._set("url",(0,I.Nm)(e,ge))}},{key:"load",value:function(e){var t=this,i=(0,b.pC)(e)?e.signal:null,r=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(h.r9).then((function(){return t._fetchService(i)})).then((function(){return t.serviceRoot=t.url}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"readVersion",value:function(e,t){return(0,s.Z)((0,l.Z)(i.prototype),"parseVersionString",this).call(this,e)}},{key:"validateLayer",value:function(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new d.Z("voxel-layer:layer-type-not-supported","VoxelLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new d.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"});if(this.version.major>3)throw new d.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"})}},{key:"getConfiguration",value:function(){var e={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index.toJSON(),sections:this.sections.toJSON(),style:{volumeStyles:this.volumeStyles.toJSON(),currentVariableId:this.currentVariableId,renderMode:this.renderMode,variableStyles:this.variableStyles.toJSON(),enableSections:this.enableSections,enableDynamicSections:this.enableDynamicSections,enableIsosurfaces:this.enableIsosurfaces,enableSlices:this.enableSlices,shading:this.shading}};return e.index&&this.index.isValid()?JSON.stringify(e):""}},{key:"getVariableStyle",value:function(e){var t;if(t=(0,b.pC)(e)?e:this.currentVariableId,!this.variableStyles||-1===t)return null;var i=this.variableStyles.findIndex((function(e){return e.variableId===t}));return i<0?null:this.variableStyles.getItemAt(i)}},{key:"getVariable",value:function(e){var t;if(t=(0,b.pC)(e)?e:this.currentVariableId,!this.variables||-1===t)return null;var i=this.variables.findIndex((function(e){return e.id===t}));return i<0?null:this.variables.getItemAt(i)}},{key:"getSections",value:function(){var e,t=[],i=(0,r.Z)(this.sections);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.push(new B({enabled:n.enabled,href:n.href,id:n.id,label:n.label,normal:n.normal,point:n.point,sizeInPixel:n.sizeInPixel,slices:n.slices,timeId:n.timeId,variableId:n.variableId}))}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"getVolume",value:function(e){var t=this.getVariable(e);return(0,b.pC)(t)?this.volumes.find((function(e){return e.id===t.volumeId})):null}},{key:"getVolumeStyle",value:function(e){var t=this.getVariable(e);return(0,b.pC)(t)?this.volumeStyles.find((function(e){return e.volumeId===t.volumeId})):null}},{key:"getSlices",value:function(){var e=[],t=this.getVolume(null);if((0,b.Wi)(t)||!t.isVolumeValid())return e;var i=this.getVolumeStyle(null);if((0,b.Wi)(i))return e;var n,o=(0,r.Z)(i.slices);try{for(o.s();!(n=o.n()).done;){var s=n.value;this._isPlaneValid(s,[0,1,t.getZDimension()],t.dimensions)?e.push(new P({enabled:s.enabled,label:s.label,point:s.point,normal:s.normal})):e.push(new P({enabled:!1,label:"invalid",point:s.point,normal:s.normal}))}}catch(l){o.e(l)}finally{o.f()}return e}},{key:"getDynamicSections",value:function(){var e=[],t=this.getVolume(null);if((0,b.Wi)(t)||!t.isVolumeValid())return e;var i=this.getVolumeStyle(null);if((0,b.Wi)(i))return e;var n,o=(0,r.Z)(i.dynamicSections);try{for(o.s();!(n=o.n()).done;){var s=n.value;this._isPlaneValid(s,[0,1,t.getZDimension()],t.dimensions)?e.push(new T({enabled:s.enabled,label:s.label,point:s.point,normal:s.normal})):e.push(new T({enabled:!1,label:"invalid",point:s.point,normal:s.normal}))}}catch(l){o.e(l)}finally{o.f()}return e}},{key:"getVerticalExaggeration",value:function(){var e=this.getVolumeStyle(null);return(0,b.Wi)(e)?1:e.verticalExaggeration}},{key:"getVerticalOffset",value:function(){var e=this.getVolumeStyle(null);return(0,b.Wi)(e)?1:e.verticalOffset}},{key:"_isPlaneValid",value:function(e,t,i){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(var r=0;r<3;++r){var n=e.point[r];if(n<0||n>=i[t[r]].size)return!1}var o=(0,g.f)(e.normal[0],e.normal[1],e.normal[2]);(0,S.n)(o,o);return!(Math.abs(o[0])+Math.abs(o[1])+Math.abs(o[2])<1e-6)&&(e.normal[0]=o[0],e.normal[1]=o[1],e.normal[2]=o[2],!0)}}]),i}((0,N.Vt)((0,C.Y)((0,V.q)((0,q.I)((0,x.M)((0,c.R)((0,j.V)(Z.Z))))))));(0,u._)([(0,f.Cb)(R.C_)],Ze.prototype,"popupEnabled",void 0),(0,u._)([(0,f.Cb)({type:["Voxel"]})],Ze.prototype,"operationalLayerType",void 0),(0,u._)([(0,f.Cb)(R.rn)],Ze.prototype,"legendEnabled",void 0),(0,u._)([(0,f.Cb)({json:{write:!0}})],Ze.prototype,"title",void 0),(0,u._)([(0,f.Cb)(R.HQ)],Ze.prototype,"url",null),(0,u._)([(0,f.Cb)({type:y.Z.ofType(B),json:{origins:{"web-scene":{name:"layerDefinition.sections",write:!0}}}})],Ze.prototype,"sections",void 0),(0,u._)([(0,f.Cb)({type:m.z8,json:{origins:{"web-scene":{name:"layerDefinition.style.currentVariableId",write:{enabled:!0,isRequired:!0}},service:{name:"style.currentVariableId"}}}})],Ze.prototype,"currentVariableId",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(Se),json:{origins:{"web-scene":{name:"layerDefinition.style.volumeStyles",write:!0},service:{name:"style.volumeStyles"}}}})],Ze.prototype,"volumeStyles",void 0),(0,u._)([(0,f.Cb)({type:["volume","surfaces"],json:{origins:{"web-scene":{name:"layerDefinition.style.renderMode",write:!0},service:{name:"style.renderMode"}}}})],Ze.prototype,"renderMode",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(ae),json:{origins:{"web-scene":{name:"layerDefinition.style.variableStyles",write:!0},service:{name:"style.variableStyles"}}}})],Ze.prototype,"variableStyles",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableSlices",write:!0},service:{name:"style.enableSlices"}}}})],Ze.prototype,"enableSlices",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableSections",write:!0},service:{name:"style.enableSections"}}}})],Ze.prototype,"enableSections",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableDynamicSections",write:!0},service:{name:"style.enableDynamicSections"}}}})],Ze.prototype,"enableDynamicSections",void 0),(0,u._)([(0,f.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableIsosurfaces",write:!0},service:{name:"style.enableIsosurfaces"}}}})],Ze.prototype,"enableIsosurfaces",void 0),(0,u._)([(0,f.Cb)({type:O,json:{origins:{"web-scene":{name:"layerDefinition.style.shading",write:!0},service:{name:"style.shading"}}}})],Ze.prototype,"shading",void 0),(0,u._)([(0,f.Cb)({type:["show","hide"]})],Ze.prototype,"listMode",void 0),(0,u._)([(0,f.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{"web-scene":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ze.prototype,"opacity",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(H)})],Ze.prototype,"variables",void 0),(0,u._)([(0,f.Cb)({type:y.Z.ofType(fe)})],Ze.prototype,"volumes",void 0),(0,u._)([(0,f.Cb)({type:we})],Ze.prototype,"index",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{name:"layerDefinition.minScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],Ze.prototype,"minScale",void 0),(0,u._)([(0,f.Cb)({type:Number,json:{name:"layerDefinition.maxScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],Ze.prototype,"maxScale",void 0),(0,u._)([(0,f.Cb)({json:{read:!1},readOnly:!0})],Ze.prototype,"type",void 0),(0,u._)([(0,f.Cb)({readOnly:!0,json:{name:"serviceVersion"}})],Ze.prototype,"version",void 0),(0,u._)([(0,w.r)("service","version")],Ze.prototype,"readVersion",null);var je=Ze=(0,u._)([(0,_.j)("esri.layers.VoxelLayer")],Ze)}}]);
//# sourceMappingURL=2560.572b51c0.chunk.js.map